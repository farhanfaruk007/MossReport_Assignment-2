<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/6/21301542_mahidul_islam_cse422_03_ass02_fall2024_-_Mahidul_Islam_Mahi.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/16/21201358_CSE422_16_LabAssignment2_-_RHYDNAN_TABASSUM.py<p></p><pre>
# -*- coding: utf-8 -*-
"""Untitled109.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1TILUv5B0xr3aLPSI195O7UQ_Tgkx9auE
"""

import random
import math

def mutate(schedule):
  if random.random() &lt; 0.5:
    mutation_index = random.randint(0, len(schedule) - 1)
    schedule[mutation_index] = 1 - schedule[mutation_index]
  return schedule

def calculate_fitness(schedule, N, T):
  timeslots = [schedule[i * N:(i + 1) * N] for i in range(T)]
  penalty_overlap = 0
  for timeslot in timeslots:
      scheduled_courses = sum(timeslot)
      if scheduled_courses &gt; 1:
          penalty_overlap += scheduled_courses - 1

  penalty_consistency = 0
  course_count = [0] * N
  for timeslot in timeslots:
      for i in range(N):
<a name="1"></a><font color="#00FF00"><a href="match230-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

          if timeslot[i] == 1:
              course_count[i] += 1

  for count in course_count:
      if count != 1:
          penalty_consistency += abs(count - 1)
</font>  total_penalty = penalty_overlap + penalty_consistency

  return -total_penalty

def create_population(N, T, population_size):
  population = []
  for i in range(population_size):
      schedule = []
      for _ in range(N * T):
        schedule.append(random.choice([0, 1]))
      population.append(schedule)
  return population

def select_parents(population):
  selected = random.sample(population, 2)
  unselected = []
  for i in population:
    if i not in selected:
      unselected.append(i)
  population = unselected

  return selected, unselected

<a name="0"></a><font color="#FF0000"><a href="match230-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_12.gif"/></a>

def crossover(parent1, parent2, N, T):
  crossover_point = random.randint(1, (N * T) - 1)
  offspring1 = parent1[:crossover_point] + parent2[crossover_point:]
  offspring2 = parent2[:crossover_point] + parent1[crossover_point:]
  return offspring1, offspring2

def two_point_crossover(parent1, parent2, N, T):
  point1 = random.randint(0, N * T - 2)
  point2 = random.randint(point1 + 1, N * T - 1)
  offspring1 = parent1[:point1] + parent2[point1:point2] + parent1[point2:]
</font>  offspring2 = parent2[:point1] + parent1[point1:point2] + parent2[point2:]
  return offspring1, offspring2


def task01():
  input_data = input("Enter the number of courses and timeslots (N T): ")
  input_data= input_data.split()
  N,T = int(input_data[0]), int(input_data[1])
  print("Number of courses (N):", N)
  print("Number of timeslots (T):", T)

  courses = []
  print(f"Enter {N} course codes:")
  for i in range(N):
    course_code = input()
    courses.append(course_code)
  print("Course codes:", courses)

  population_size = 4
  population = create_population(N, T, population_size)
  #print("Population size:", population_size)
  #print("Population:", population)

  genarations = 1000
  winner= None
  winner_fitness = -math.inf
  for generation in range(genarations):

    for schedule in population:
      fitness = calculate_fitness(schedule, N, T)
      if fitness &gt; winner_fitness:
        winner = schedule
        winner_fitness = fitness

    if winner_fitness == 0:
      break

    selected, unselected = select_parents(population)
    #print("Parent 1:", selected[0])
    #print("Parent 2:", selected[1])

    offspring1, offspring2 = crossover(selected[0], selected[1], N, T)
    #print("Offspring 1:", offspring1)
    #print("Offspring 2:", offspring2)

    offspring1 = mutate(offspring1)
    offspring2 = mutate(offspring2)

    unselected.append(offspring1)
    unselected.append(offspring2)
    population = unselected

  print("Generation:", generation)
  print("Winner:", winner)
  print("Winner Fitness:", winner_fitness)


def task02():
  input_data = input("Enter the number of courses and timeslots (N T): ")
  input_data= input_data.split()
  N,T = int(input_data[0]), int(input_data[1])

  courses = []
  print(f"Enter {N} course codes:")
  for i in range(N):
    course_code = input()
    courses.append(course_code)

  population_size = 4
  population = create_population(N, T, population_size)
  genarations = 1
  winner= None
  winner_fitness = -math.inf
  for generation in range(genarations):

    for schedule in population:
      fitness = calculate_fitness(schedule, N, T)
      if fitness &gt; winner_fitness:
        winner = schedule
        winner_fitness = fitness

    if winner_fitness == 0:
      break

    selected, unselected = select_parents(population)
    print("Parent 1:", selected[0])
    print("Parent 2:", selected[1])

    offspring1, offspring2 = two_point_crossover(selected[0], selected[1], N, T)
    print("Offspring 1:", offspring1)
    print("Offspring 2:", offspring2)

    offspring1 = mutate(offspring1)
    offspring2 = mutate(offspring2)

    unselected.append(offspring1)
    unselected.append(offspring2)
    population = unselected

  print("Generation:", generation)
  print("Winner:", winner)
  print("Winner Fitness:", winner_fitness)

#Task1
print("Task 1")
task01()

#Task2
print("Task 2")
task02()

</pre>
</body>
</html>
