<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/2/24141273_422_mahtab_lab2__MAHTAB_UDDIN_AL_HASAN.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/2/24141273_422_mahtab_lab2__MAHTAB_UDDIN_AL_HASAN.py<p></p><pre>
# -*- coding: utf-8 -*-
"""422_Mahtab_Lab2_24141273.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1xdnfHx8hUDdKtEA2lDStug0C2kZ53dBP
"""

<a name="3"></a><font color="#00FFFF"><a href="match87-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_6.gif"/></a>

import numpy as np
import random

input_file = open("InputFile.txt", "r")
total_course, total_timeslot = input_file.readline().split()
def make_chromosome(population_size):
    population = []
    for i in range(population_size):
        chromosome = " "
        for j in range(len_of_chromosome):
</font>            chromosome += str(random.randint(0, 1))
<a name="2"></a><font color="#0000FF"><a href="match87-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_10.gif"/></a>

        population.append(chromosome)

    return population

def parent_selection(population):
  while True:
    parents = random.sample(population, 2)
    if parents[0] != parents[1]:
      return parents



def fitness(population):
    fitness_val = {}
    for chromosome in population:
        penalty_for_overlap = 0
        penalty_for_consistency = 0

        count_for_overlap = {}
        for i in range(int(total_timeslot)):
</font>            count_for_overlap[i] = 0

        count_for_consistency = {}
<a name="4"></a><font color="#FF00FF"><a href="match87-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_4.gif"/></a>

        for i in range(int(total_course)):
            count_for_consistency[i] = 0

        for i in range(len_of_chromosome):
            if chromosome[i] == '1':
                count_for_overlap[(i // int(total_course))] += 1
</font><a name="1"></a><font color="#00FF00"><a href="match87-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_22.gif"/></a>

                count_for_consistency[(i % int(total_course))] += 1

        for i in count_for_overlap:
            penalty_for_overlap += abs(count_for_overlap[i] - 1)

        for i in count_for_consistency:
            penalty_for_consistency += abs(count_for_consistency[i] - 1)

        fitness_val[chromosome] = -(penalty_for_overlap + penalty_for_consistency)
    return fitness_val

def single_point_crossover(parents):
    point_of_crossover_point = len_of_chromosome // 2
    offspring_1 = parents[0][:point_of_crossover_point] + parents[1][point_of_crossover_point:]
    offspring_2 = parents[1][:point_of_crossover_point] + parents[0][point_of_crossover_point:]
    return [offspring_1, offspring_2]

def mutation(population):
    for i in range(len(population)):
        point_of_mutation = random.randint(0, len_of_chromosome - 1)
        cromosome = list(population[i])
</font><a name="0"></a><font color="#FF0000"><a href="match87-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_23.gif"/></a>

        cromosome[point_of_mutation] = '1' if cromosome[point_of_mutation] == '0' else '0'
        population[i] = ''.join(cromosome)
    return population

def genetic_algorithm(population_size, iteration):
    population = make_chromosome(population_size)
    for i in range(iteration):
        fitness_score = fitness(population)
        sorted_fitness = sorted(fitness_score.items(), key=lambda item: item[1], reverse=True)


        if sorted_fitness[0][1] == 0:
            break
        parents = parent_selection(population)
        for j in parents:
            population.remove(j)


        offspring = single_point_crossover(parents)
        mutated_offspring = mutation(offspring)
        population.extend(mutated_offspring)
    fittest_chromosome = max(fitness_score, key = fitness_score.get)

    return fittest_chromosome, fitness_score[fittest_chromosome]

population_size = 20
len_of_chromosome = int(total_course) * int(total_timeslot)
iteration = 50

chromosome, highest_fitness = genetic_algorithm(population_size, iteration)
print(chromosome)
</font>print(highest_fitness)




p1 = "000111000"
p2 = "111000111"

point1 = random.randint(1, len(p1) - 2)
point2 = random.randint(point1 + 1, len(p1) - 1)

#two-point crossover
offspring1 = p1[:point1] + p2[point1:point2] + p1[point2:]
offspring2 = p2[:point1] + p1[point1:point2] + p2[point2:]


print("Parent 1:", p1)
print("Parent 2:", p2)
print("1st Crossover Point:", point1)
print("2nd Crossover Point:", point2)
print("Offspring 1:", offspring1)
print("Offspring 2:", offspring2)</pre>
</body>
</html>
