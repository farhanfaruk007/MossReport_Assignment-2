<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/3/22101623_arif_bin_islam_cse422_03_lab_assignment02_fall2024_-_ARIF_BIN_ISLAM.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/3/22101623_arif_bin_islam_cse422_03_lab_assignment02_fall2024_-_ARIF_BIN_ISLAM.py<p></p><pre>
# -*- coding: utf-8 -*-
"""22101623_arif_bin_islam_cse422_03_lab_assignment02_fall2024.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1dyENfge_NGmBNbMm3bq7_GUe4ktNZHJE
"""

import random

# taking input values
def take_input():
    x = input("Number of courses and timeslots with a space: ")
    x = x.split(" ")
    n_courses=int(x[0])
    n_slots=int(x[1])
    courses_lst = []
    for i in range(n_courses):
        course = input("Add a course: ")
        courses_lst.append(course)

    return n_courses,n_slots,courses_lst

(n_courses,n_slots,courses_lst) = take_input()



# intial population
<a name="0"></a><font color="#FF0000"><a href="match30-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_27.gif"/></a>

chromosome_len = n_courses * n_slots
population = []

for i in range(10):
    chromosome = []
    for i in range(chromosome_len):
        segment_has_1 = 0
        chromosome.append(str(random.randint(0,1)))
        if(chromosome[i]=="1"):
            segment_has_1 += 1

        if(i % n_courses == 0):
            if segment_has_1 == 0:
                chromosome[i] = '1'
            segment_has_1 = 0
    population.append(''.join(chromosome))

# print(population)



def fitness(population):
    segment_size = n_courses
    fitness_score = []
    for el in population:
        overall_fitness = 0
        segment_courses=[0]*segment_size
        for i in range(len(el)//segment_size):
            starting_idx = i*segment_size

            c = 0
            for j in range(starting_idx,starting_idx+3):
                if el[j] == '1':
                    segment_courses[j%segment_size] +=1
                    c+=1
            overall_fitness += c-1
        for el in segment_courses:
            overall_fitness += abs(el-1)

        fitness_score.append(overall_fitness*-1)
    return fitness_score



def random_select(population,fit):
    total_fitness = sum(fit)
    probabilities = [f/total_fitness for f in fit]

    children_1 = random.choices(population, weights=probabilities,k=2)[0]
</font>    children_2 = random.choices(population, weights=probabilities,k=2)[1]

    return children_1, children_2
<a name="1"></a><font color="#00FF00"><a href="match30-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_17.gif"/></a>

fitness_score = fitness(population)
# print(random_select(population,fitness_score))



def single_crossover(x,y):
    crossover_point = random.randint(0,len(x)-1)
    x_first_half = x[0:crossover_point]
    x_second_half = x[crossover_point:]
    y_first_half = y[0:crossover_point]
    y_second_half = y[crossover_point:]

    return x_first_half+y_second_half, y_first_half+x_second_half



def mutate(child):
    mutation_point = random.randint(1,len(child)-1)
    gene = random.randint(0,1)

    first_half_child = child[0:mutation_point-1]
    second_half_child = ''

    if(mutation_point != len(child)):
        second_half_child = child[mutation_point:]

    return first_half_child+str(gene)+second_half_child



def Genetic_Algo(population):
    population_fitness_score = fitness(population)
    new_population = []
    for i in range(0,len(population)):
</font><a name="3"></a><font color="#00FFFF"><a href="match30-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_11.gif"/></a>

        x,y = random_select(population, population_fitness_score)
        new_x, new_y = single_crossover(x,y)

        mutated_new_x = mutate(new_x)
        mutated_new_y = mutate(new_y)
        new_population.append(mutated_new_x)
        new_population.append(mutated_new_y)



    # printing population
    new_population_fitness_score = fitness(new_population)
    max_fitness = -99999999
    max_idx = None
    for i in range(len(new_population_fitness_score)):
        if(new_population_fitness_score[i]&gt;=max_fitness):
            max_fitness = new_population_fitness_score[i]
            max_idx = i
    print(new_population[max_idx])
    print(max_fitness)

Genetic_Algo(population)

def double_crossover(x,y):
    x = list(x)
    y = list(y)
</font>    if len(x) != len(y):
      print("Parents must have the same length")

<a name="4"></a><font color="#FF00FF"><a href="match30-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

    point1 = random.randint(0,len(x)-1)
    point2 = random.randint(0,len(x)-1)
    min_point = min(point1,point2)
    max_point = max(point1,point2)

    print(f"Crossover at: {min_point}, {max_point}")
</font>
<a name="2"></a><font color="#0000FF"><a href="match30-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_11.gif"/></a>

    x_split_1 = x[0:min_point]
    x_split_2 = x[min_point:max_point+1]
    x_split_3 = ''
    if(max_point != len(x)-1):
        x_split_3 = x[max_point+1:]

    y_split_1 = y[0:min_point]
    y_split_2 = y[min_point:max_point+1]
    y_split_3 = ''
    if(max_point != len(x)-1):
        y_split_3 = y[max_point+1:]

    print("Splited from x and y:",''.join(x_split_2),''.join(y_split_2))

    new_x = x_split_1+y_split_2+x_split_3
</font>    new_y = y_split_1+x_split_2 + y_split_3

    print('Two resultant offsprings are:')
    print("".join(new_x),''.join(new_y))

x , y = random_select(population,fitness_score)
print(x,y)
double_crossover(x,y)</pre>
</body>
</html>
