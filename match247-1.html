<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/4/21141004_TanzinaAfrinLazika_CSE422_04_Assignment02_Fall2024.py.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/4/24341109_TasnuvaHassan_CSE422_04_Assignment02_Fall2024_-_TASNUVA_HASSAN.py<p></p><pre>
# -*- coding: utf-8 -*-
"""Untitled5.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1C4j6nFSIkZfjRQ6YOobVAhTU2R5owda1
"""

#Quesion1

import random

def fitness(chromosome, N, T):
    overlap_penalty = 0
    consistency_penalty = 0
    overlap_penalty = calc_overlap_penalty(chromosome, N, T)
    consistency_penalty = calc_consistency_penalty(chromosome, N, T)

    total_penalty = overlap_penalty + consistency_penalty
    fitness = -total_penalty
    return fitness

def calc_overlap_penalty(chromosome, N, T):
    penalty = 0
    for t in range(T):
        timeslot = chromosome[t * N : (t + 1) * N]
        courses = sum(timeslot)
        if courses &gt; 1:
            penalty += courses - 1
    return penalty

def calc_consistency_penalty(chromosome, N, T):
    penalty = 0
    for n in range(N):
        course_times = sum(chromosome[n::N])
        if course_times != 1:
            penalty += abs(course_times - 1)
    return penalty

def selection(population, fitness_scores):
    total_fitness = sum(fitness_scores)
    selection_p = [f / total_fitness for f in fitness_scores]
    parents = random.choices(population, weights=selection_p, L=2)
    return parents

def crossover(p1, p2):
    point = random.randint(1, len(p1) - 1)
    offspring1 = p1[:point] + p2[point:]
<a name="0"></a><font color="#FF0000"><a href="match247-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_8.gif"/></a>

    offspring2 = p2[:point] + p1[point:]
    return offspring1, offspring2

def mutation(chromosome, mutation_rate=0.01):
    mutate = chromosome[:]
    for i in range(len(mutate)):
        if random.random() &lt; mutation_rate:
            mutate[i] = 1 - mutate[i]
</font>    return mutate

def init_population(N, T, population_size):
    population = [[random.randint(0, 1) for _ in range(N * T)] for _ in range(population_size)]
    return population

def genetic_algorithm(N, T, max_iterations=1000, population_size=100, mutation_rate=0.01):
    population = init_population(N, T, population_size)

<a name="1"></a><font color="#00FF00"><a href="match247-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

    for iteration in range(max_iterations):
        fitness_scores = [fitness(chromosome, N, T) for chromosome in population]

        if max(fitness_scores) == 0:
            break

        new_population = []
        for _ in range(population_size // 2):
            p1, p2 = selection(population, fitness_scores)
</font>            offspring1, offspring2 = crossover(p1, p2)
<a name="2"></a><font color="#0000FF"><a href="match247-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

            new_population.extend([mutation(offspring1, mutation_rate), mutation(offspring2, mutation_rate)])

        population = new_population

    best_chromosome = max(population, key=lambda chromo: fitness(chromo, N, T))
    best_fitness = fitness(best_chromosome, N, T)
</font>
    return best_chromosome, best_fitness

with open('input.txt', 'r') as file:
    for line in file:
        N,T=[int(n) for n in line.split(" ")]
        break
print(N,T)
best_schedule, best_fitness = genetic_algorithm(N, T)
print("Best Schedule:", ''.join(map(str, best_schedule)))
print("Fitness:", best_fitness)

#Question2

import random

def crossover(p1, p2):
    length = len(p1)

    point1 = random.randint(0, length - 2)
    point2 = random.randint(point1 + 1, length - 1)

    offspring1 = p1[:point1] + p2[point1:point2] + p1[point2:]
    offspring2 = p2[:point1] + p1[point1:point2] + p2[point2:]

    print("Parent 1:", p1)
    print("Parent 2:", p2)
    print("Offspring 1:", offspring1)
    print("Offspring 2:", offspring2)

    return offspring1, offspring2

p1 = [1, 0, 0, 1, 1, 1, 0, 0, 1]
p2 = [0, 1, 1, 0, 0, 0, 1, 1, 0]

offspring1, offspring2 = crossover(p1, p2)</pre>
</body>
</html>
