<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/3/24141204_IBTISUMJAMAN_CSE422_03_Lab_Assignment02_Fall2024_-_IBTISUM_JAMAN.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/17/22201641_Mansurun_Taharat_CSE422_17_Assignment02_Fall2024_-_MANSURUN_TAHARAT.py<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match248-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_41.gif"/></a>

{"nbformat":4,"nbformat_minor":0,"metadata":{"colab":{"provenance":[],"authorship_tag":"ABX9TyO2kzPwxrEOcGmU83vBqQTG"},"kernelspec":{"name":"python3","display_name":"Python 3"},"language_info":{"name":"python"}},"cells":[{"cell_type":"code","execution_count":17,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"VUSpbQtOPoIq","executionInfo":{"status":"ok","timestamp":1733162181287,"user_tz":-360,"elapsed":810,"user":{"displayName":"MANSURUN TAHARAT","userId":"04221674584980116405"}},"outputId":"7cbce891-372a-427d-df5c-8f11d1b7c0e2"},"outputs":[{"output_type":"stream","name":"stdout","text":["[0, 0, 1, 1, 0, 0, 0, 1, 0] 0\n"]}],"source":["import random\n","x = open(\"input1.txt\", \"r\")\n","y = open(\"output1.txt\", \"w\")\n","N,T = x.readline().split()\n","N = int(N)\n","T = int(T)\n","L = N*T\n","C = []\n","for i in range(int(N)):\n","  C.append(x.readline().strip())\n","\n","def initialize(size, n, t):\n","  p = []\n","  for i in range(size):\n","    c = []\n","    for j in range(t):\n","      segment = [0]*n\n","      segment[random.randint(0, n-1)] = 1\n","      c.extend(segment)\n","    p.append(c)\n","  return p\n","\n","def fitness(chromosome, n, t):\n","    penalty_overlap = 0\n","    penalty_consistency = 0\n","    course_counts = [0] * n\n","\n","    for i in range(t):\n","        timeslot = chromosome[i * n:(i + 1) * n]\n","        scheduled_courses = sum(timeslot)\n","        penalty_overlap += max(0, scheduled_courses - 1)\n","        for j in range(n):\n","            course_counts[j] += timeslot[j]\n","\n","    penalty_consistency += sum(abs(count - 1) for count in course_counts)\n","\n","    return -(penalty_overlap + penalty_consistency)\n","\n","def s_p(p, f, n, t):\n","    selected = random.sample(p, 2)\n","    return max(selected, key=lambda x: f(x, n, t)), \\\n","           min(selected, key=lambda x: f(x, n, t))\n","\n","def crossover(p1, p2, n, t):\n","    point = random.randint(1, len(p1) - 1)\n","    c1 = p1[:point] + p2[point:]\n","    c2 = p2[:point] + p1[point:]\n","    return c1, c2\n","\n","def mutate(c, rate, n, t):\n","    for i in range(len(c)):\n","        if random.random() &lt; rate:\n","            c[i] = 1 - c[i]\n","    for i in range(t):\n","        if sum(c[i * n:(i + 1) * n]) == 0:\n","            c[i * n + random.randint(0, n - 1)] = 1\n","    return c\n","\n","def g_a(n, t, c, p_s = 10, gen = 100, rate = 10):\n","  p = initialize(p_s, n, t)\n","  best_c = None\n","  best_f = float(\"-inf\")\n","  for gen in range(gen):\n","    p_f = [fitness(chromosome, n, t) for chromosome in p]\n","    best_i = p_f.index(max(p_f))\n","    if p_f[best_i] &gt; best_f:\n","      best_c = p[best_i]\n","      best_f  = p_f[best_i]\n","    new_p = []\n","    for i in range(p_s // 2):\n","      p1, p2 = s_p(p, fitness, n, t)\n","      c1, c2 = crossover(p1, p2, n, t)\n","      c1 = mutate(c1, rate, n, t)\n","      c2 = mutate(c2, rate, n, t)\n","      new_p.extend([c1, c2])\n","    p = new_p\n","  return best_c, best_f\n","\n","\n","solution, fitness = g_a(N, T, C)\n","print(solution, fitness)"]},{"cell_type":"code","source":["def two_point_crossing(first_parent, second_parent):\n","  first_pointer = random.randint(1, len(first_parent) - 2)\n","  second_pointer = random.randint(first_pointer + 1, len(first_parent) - 1)\n","  first_child = first_parent[:first_pointer] + second_parent[first_pointer:second_pointer] + first_parent[second_pointer:]\n","  second_child = second_parent[:first_pointer] + first_parent[first_pointer:second_pointer] + second_parent[second_pointer:]\n","\n","  return first_child, second_child"],"metadata":{"id":"v8mTzkbDTKYe"},"execution_count":null,"outputs":[]}]}</font></pre>
</body>
</html>
