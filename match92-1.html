<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/4/21201787_4_tamim_-_RIFAT_MAHMUD_TAMIM.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/5/22101039_Mahmud_hasan_foysal_02_05.py<p></p><pre>
# -*- coding: utf-8 -*-
"""Untitled7.ipynb

Automatically generated by Colab.

Original file is located at
<a name="0"></a><font color="#FF0000"><a href="match92-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_45.gif"/></a>

    https://colab.research.google.com/drive/1tI60tQJKp3tMwGbv2jXs5jETfs1pyk5C
"""

import random
def fitness_calculation(chrom, n, t):
  overlap = 0
  consis = 0
  fitness = 0
  schedule = []
  for i in range(t):
    start_index = i * n
    end_index = start_index + n
    slot = chrom[start_index:end_index]
    schedule.append(slot)
  for j in schedule:
    c = 0
    for k in j:
      c += 1
    if c &gt; 1:
      overlap += (c - 1)
  for i in range(n):
    c = 0
    for j in range(t):
      c += schedule[j][i]
    if c != 1:
      consis += abs(c - 1)
  fitness = -(overlap + consis)
  return fitness

# Genetic Algorithm
def parents_selection(num, val):
  parent1, parent2 = random.sample(num, 2)
  return parent1, parent2

def population(x, n, t):
  num = []
  for i in range(x):
    length = n * t
    chrom = [0] * length
    for j in range(n):
      slot = random.randint(0, t - 1)
      idx = slot * n + j
      chrom[idx] = 1
    num.append(chrom)
  return num

def single_point_crossover(parent1, parent2):
    cut = random.randint(1, len(parent1) - 1)
    child1 = parent1[:cut] + parent2[cut:]
</font>    child2 = parent2[:cut] + parent1[cut:]
    return child1, child2

def mutation(chrom, mutation_rate):
  for i in range(len(chrom)):
    if random.random() &lt; mutation_rate:
      chrom[i] = 1 - chrom[i]
<a name="1"></a><font color="#00FF00"><a href="match92-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_23.gif"/></a>

  return chrom

def genetic_algorithm( courses,n, t, x=10, y=10, mutation_rate=0.1):
  num = population(x, n, t)
  for i in range(y):
    fit_value = []
    for j in num:
      fit_value.append(fitness_calculation(j, n, t))
      solution = max(fit_value)
      if solution == 0:
        break
      new_sol = []
      while len(new_sol) &lt; x:
        parent1, parent2 = parents_selection(num, fit_value)
        child1, child2 = single_point_crossover(parent1, parent2)
        mutate1 = mutation(child1, mutation_rate)
        mutate2 = mutation(child2, mutation_rate)
        new_sol.extend([mutate1, mutate2])

      num = new_sol[:x]
  fitness_output = max(fit_value)
  chromosome = num[fit_value.index(fitness_output)]
  return chromosome, fitness_output
</font>
# Read input
def read_input(file_name):
  with open(file_name, 'r') as f:
    n, t = map(int, f.readline().split())
    courses = [f.readline().strip() for _ in range(n)]
    return courses, n, t
input_file = 'input.txt'  # file path
courses, N, T = read_input(input_file)
chromosome, fitness = genetic_algorithm(courses, N, T)
print("Chromosome:", chromosome)
print("Fitness:", fitness)</pre>
</body>
</html>
