<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/13/24141101_Chowdhury_Isfatul_Karim_CSE422_13_Lab_Assignment02_Fall2024_-_CHOWDHURY_ISFATUL_KARIM.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/15/24141151_tasnim_hamid_tisha_cse422_15_lab_assignment02_fall2024_py_-_TASNIM_HAMID_TISHA.py<p></p><pre>
# -*- coding: utf-8 -*-
"""24141151_tasnim hamid tisha_CSE422_15_Lab_Assignment02_Fall2024.py

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1Vpf73orPEOgbHgDLtdqvWBzBZ1wjyAy0
"""

import random

<a name="0"></a><font color="#FF0000"><a href="match41-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_89.gif"/></a>

def generatingRandomChromosome(numberOfCourses, totalTimeSlots):
    generatedChromosome = [random.choice([0, 1]) for a in range(numberOfCourses * totalTimeSlots)]
    return generatedChromosome

def calculatingFitness(chromosome, numberOfCourses, totalTimeSlots):
    penaltyOfOverlap = 0
    penaltyOfConsistency = 0

    for times in range(totalTimeSlots):
        timeslot = chromosome[times * numberOfCourses:(times + 1) * numberOfCourses]
        penaltyOfOverlap += max(0, sum(timeslot) - 1)

    for num in range(numberOfCourses):
        totalCourseCount = sum(chromosome[num + times * numberOfCourses] for times in range(totalTimeSlots))
        penaltyOfConsistency += abs(totalCourseCount - 1)

    totalCalculatedPenalty = penaltyOfOverlap + penaltyOfConsistency
    CalculatedFitness = -totalCalculatedPenalty
    return CalculatedFitness

def selectingRandomParents(generatedInitialPopulation, fitnessofInitialPopulation):
    totalFitness = sum(fitnessofInitialPopulation)
    probabilities = [o / totalFitness for o in fitnessofInitialPopulation]
    selectedParents = random.choices(generatedInitialPopulation, probabilities, k=2)
    return selectedParents

def crossoverFunction(selectedParent1, selectedParent2, numberOfCourses, totalTimeSlots):
    selectedRamdomPoint = random.randint(1, numberOfCourses * totalTimeSlots - 1)
    firstChild = selectedParent1[:selectedRamdomPoint] + selectedParent2[selectedRamdomPoint:]
    secondChild = selectedParent2[:selectedRamdomPoint] + selectedParent1[selectedRamdomPoint:]
    return firstChild, secondChild

def mutate(chromosome):
    rateOfMutation=0.01
    for s in range(len(chromosome)):
        if random.random() &lt; rateOfMutation:
            chromosome[s] = 1 - chromosome[s]
    return chromosome

def twoPointCrossOver(firstSelectedParent, secondSelectedParent):
    numberOfCourses = len(firstSelectedParent)
    point1, point2 = sorted(random.sample(range(1, numberOfCourses), 2))

    child1 = firstSelectedParent[:point1] + secondSelectedParent[point1:point2] + firstSelectedParent[point2:]
    child2 = secondSelectedParent[:point1] + firstSelectedParent[point1:point2] + secondSelectedParent[point2:]

    return child1, child2

def genetic_algorithm(numberOfCourses, totalTimeSlots, numberOfInitialPopulation, totalGenerations, generatedInitialPopulation):

    for generation in range(totalGenerations):
        fitnessofInitialPopulation = [calculatingFitness(chromosome, numberOfCourses, totalTimeSlots) for chromosome in generatedInitialPopulation]

        bestFitness = max(fitnessofInitialPopulation)
        bestChromosome = generatedInitialPopulation[fitnessofInitialPopulation.index(bestFitness)]

        newPopulation = []
        while len(newPopulation) &lt; numberOfInitialPopulation:
            selectedParent1, selectedParent2 = selectingRandomParents(generatedInitialPopulation, fitnessofInitialPopulation)
            firstChild, secondChild = crossoverFunction(selectedParent1, selectedParent2, numberOfCourses, totalTimeSlots)
            newPopulation.extend([mutate(firstChild), mutate(secondChild)])

        generatedInitialPopulation = newPopulation[:numberOfInitialPopulation]

    return bestChromosome, bestFitness

with open('input.txt', 'r') as file:
    numberOfCourses, totalTimeSlots = map(int, file.readline().strip().split())

numberOfInitialPopulation=10
totalGenerations=1000
generatedInitialPopulation = [generatingRandomChromosome(numberOfCourses, totalTimeSlots) for q in range(numberOfInitialPopulation)]
bestChromosome, bestFitness = genetic_algorithm(numberOfCourses, totalTimeSlots, numberOfInitialPopulation, totalGenerations, generatedInitialPopulation)

print("Best Chromosome:", "".join(map(str, bestChromosome)))
print("Best Fitness:", bestFitness)


firstSelectedParent, secondSelectedParent = random.sample(generatedInitialPopulation, 2)

child1, child2 = twoPointCrossOver(firstSelectedParent, secondSelectedParent)

print("Parent 1: ", "".join(map(str, firstSelectedParent)))
print("Parent 2: ", "".join(map(str, secondSelectedParent)))
print("Child 1:  ", "".join(map(str, child1)))
</font>print("Child 2:  ", "".join(map(str, child2)))</pre>
</body>
</html>
