<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/9/21201679_abiduddinafnan_21201679_abiduddin_afnan.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/9/21201679_abiduddinafnan_21201679_abiduddin_afnan.py<p></p><pre>
# -*- coding: utf-8 -*-
"""21201679_AbiduddinAfnan_21201679 - ABIDUDDIN AFNAN.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1i857JeWMD40NN9yuw7qSo7OC1Vy2jkgZ
"""

#task001
import random

def ga(inp_file,out_file):
  with open(inp_file,'r') as fh:
    data=fh.readline().strip().split()
    sub=int(data[0])  # subjects
    sl=int(data[1])  # slots

  if sl &lt; sub:
    with open(out_file,'w') as ofh:
            ofh.write("Error your slots are more than the subjects\n")
    return

  gp ='01'
  pop =[]
<a name="1"></a><font color="#00FF00"><a href="match164-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

  ch =""

  for i in range(100):
    for i in range(sub * sl):
            ch += random.choice(gp)
    pop.append(ch)
    #print(pop)
    ch = ""

  fit = []
</font>#fitnes
  def calc_fit(c):
    f=0
    pen=[]
    ##### Overlap penalty
    for i in range(0,len(c),sub):
      cls = sum(int(c[i + j]) for j in range(sl))
      #print(cls)
      pen.append(abs(cls - 1) if cls&gt;= 1 else 0)
      #print(pen)
    op=sum(pen)

  ####### Consistency penalty
    pen=[]
    for i in range(sub):
            cls = sum(int(c[j + i])
             for j in range(0,len(c),sl))
            pen.append(abs(cls - 1)
             if cls &gt;= 1 else 1)

    cp = sum(pen)
    return -1*(cp + op)
#randm parent
  def sel_par(p):
        return random.choice(p),random.choice(p)
#crossovering
<a name="0"></a><font color="#FF0000"><a href="match164-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_19.gif"/></a>

  def cross(p1,p2):
    cp= random.randint(0,len(p1))
    c1= p1[:cp]+p2[cp:]
    c2= p2[:cp]+p1[cp:]
    return c1, c2
#mutation
  def mut(c):
    mp=random.randint(0,len(c)-1)
    if c[mp]=='0':
            c=c[:mp] +'1'+c[mp + 1:]
    else:
            c=c[:mp] +'0'+c[mp + 1:]
    return c
#finding best fir
  child_pop=[]
  cnt=0
  while cnt&lt;100 or (len(fit)&gt;cnt and fit[cnt]==0):
</font><a name="2"></a><font color="#0000FF"><a href="match164-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

        cnt += 1
        p1,p2 = sel_par(pop)
        o1,o2 = cross(p1, p2)
        m1= mut(o1)
        m2= mut(o2)
        child_pop.extend([m1,m2])
</font>        fit.append(calc_fit(m1))
        fit.append(calc_fit(m2))

  with open(out_file,'w') as ofh:
    bf =max(fit)
    bc= child_pop[fit.index(bf)]
    ofh.write(f"Best fitness: {bf}\n")
    ofh.write(f"Best chromosome: {bc}\n")

fh = '/content/input.txt'
o_fh = '/content/output.txt'
ga(fh, o_fh)
################################################3

#task2###########

import random

def sel_par(p):
  if not p:
    return None,None
  return random.choice(p),random.choice(p)
pop = ["111110101","111010000"]
p1, p2 = sel_par(pop)

if p1 and p2:
  cp1 = random.randint(0,len(p1))
  cp2 = random.randint(0,len(p1))
  if cp1&gt;=cp2:
    cp1,cp2 = cp2,cp1

<a name="3"></a><font color="#00FFFF"><a href="match164-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

  print(p1,p2)
  print("CP1:",cp1)
  print("CP2:",cp2)

  c1 = p1[:cp1] + p2[cp1:cp2] + p1[cp2:]
  c2 = p2[:cp1] + p1[cp1:cp2] + p2[cp2:]
</font>  print(c1, c2)
else:
  print("Population is empty.Cannot select parents.")</pre>
</body>
</html>
