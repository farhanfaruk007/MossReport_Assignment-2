<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/6/24141076_AbdullahAlZubayer_CSE422_06_Assignment02_Fall2024_-_ABDULLAH_AL_ZUBAYER.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/6/24141076_AbdullahAlZubayer_CSE422_06_Assignment02_Fall2024_-_ABDULLAH_AL_ZUBAYER.py<p></p><pre>
# -*- coding: utf-8 -*-
"""Untitled9.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/14HeY8HMSF9dYaQlfqiexTygQ1PHZUxQu
"""

import random
import string
N=int(input("Enter Number of Courses: "))
T=int(input("Enter Number of Slots: "))
length=N*T

def chromosome_creator(length):
  temp = ''.join(random.choices(['0','1'],
                             k=length))
  return temp

def mutate(chromosome):
  length=len(chromosome)
  mutate_or_not=random.randrange(0,2)
  if mutate_or_not==1:
    index=random.randrange(0,length)
<a name="2"></a><font color="#0000FF"><a href="match197-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_7.gif"/></a>

    if chromosome[index]=='0':
      return chromosome[:index]+'1'+chromosome[index+1:]
    else:
      return chromosome[:index]+'0'+chromosome[index+1:]
</font>  return chromosome

def fitness(arr,N,T):
  overlap_penalty=0
  consistency_penalty=0
  course_count=[0]*N
  for i in range(T):
    count_of_courses=0
    for j in range(N):
      if arr[i*N+j]=='1':
        count_of_courses+=1
        course_count[j]+=1
    if count_of_courses==0:
      continue
    else:
      overlap_penalty+=count_of_courses-1
  for i in range(len(course_count)):
    if course_count[i]==0:
      consistency_penalty+=1
    else:
      consistency_penalty+=course_count[i]-1
  fitness=-(overlap_penalty+consistency_penalty)
  return fitness

<a name="1"></a><font color="#00FF00"><a href="match197-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_7.gif"/></a>

  def crossover(chr1,chr2):
    split_index=random.randrange(1,len(chr1))
    temp1,temp2=chr1[:split_index], chr1[split_index:]
    temp3,temp4=chr2[:split_index], chr2[split_index:]

    return (mutate(temp1+temp4),mutate(temp3+temp2))
</font>
def crossover(chr1,chr2):
  split_index=random.randrange(1,len(chr1))
  temp1,temp2=chr1[:split_index], chr1[split_index:]
  temp3,temp4=chr2[:split_index], chr2[split_index:]

  return (mutate(temp1+temp4),mutate(temp3+temp2))

# Part 1
def main():
  global init_population
  init_population=[]
  population=[]
  for i in range(4):
    chromosome=chromosome_creator(length)
    population+=[[chromosome,fitness(chromosome,N,T)]]
    init_population+=[chromosome]

  for x in range(1000):
    min_element = min(population, key=lambda x: x[1])
    population.remove(min_element)

<a name="0"></a><font color="#FF0000"><a href="match197-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_9.gif"/></a>

    max_element = max(population, key=lambda x: x[1])
    if max_element[1]==0:
      print(max_element[0])
      print(max_element[1])
      return
    population.remove(max_element)
    temp=[]
    for i in population:
      child1,child2=crossover(max_element[0],i[0])
      temp+=[[child1,fitness(child1,N,T)]]
</font>      temp+=[[child2,fitness(child2,N,T)]]
    population=temp

main()

# Part 2
selected_elem=random.sample(init_population,2)

elem1,elem2=selected_elem
random_list = random.sample(range(1,len(elem1)), 2)
low=min(random_list)
high=max(random_list)
child1=elem1[:low]+elem2[low:high]+elem1[high:]
child2=elem2[:low]+elem1[low:high]+elem2[high:]

print(child1,child2)</pre>
</body>
</html>
