<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/10/22301028_cse422_10_labassignment2_py_-_RAMISA_RAHMAN.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/10/22301028_cse422_10_labassignment2_py_-_RAMISA_RAHMAN.py<p></p><pre>
# -*- coding: utf-8 -*-
"""22301028_CSE422_10_LabAssignment2.py

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1n9EXhqxlhN-ISCARSeoWv8BCRTqqUYTQ
"""

#Part 1
import random
import re
import numpy as np

file1=open("input1.txt", "r")
num=file1.readline().split()
c=int(num[0])
slot=int(num[1])
size=c*slot

def pop(n, size):
  temp= ""
  lst=[]
  for i in range(n):
    for j in range(size):
      temp= temp+(random.choice("01"))
    lst.append(temp)
    temp= ""
  return lst

def selection(arr, fit):
  normalize=[i/sum(fit) for i in fit]
  x=np.random.choice(arr, size=1, replace=True, p=normalize)
  y=np.random.choice(arr, size=1, replace=True, p=normalize)
  return x[0],y[0]

def fitness(arr,slot):
  fit_lst=[]
  emp=""
  for i in range(slot):
    emp=emp+"."
  for i in arr:
<a name="1"></a><font color="#00FF00"><a href="match158-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

    lst=re.findall(emp, i)
    overlap=0
    con=0
    for j in lst:
      if j.count("1")&gt;=2:
        overlap=overlap + j.count("1")-1
    for i in range(len(lst[0])):
      pos=[s[i]=="1" for s in lst]
</font>      if sum(pos)&gt;1:
        con+=sum(pos)-1
      elif sum(pos)==0:
        con+=1
    fit_lst.append(con+overlap)
  return fit_lst

def singlecrossover(x,y):
  size=len(x)
  idx=random.randint(0,len(x)-1)
  chromosome1=x[:idx]+y[idx:]
  chromosome2=y[:idx]+x[idx:]
  return chromosome1,chromosome2

def mutation(x,y):
  idx=random.randint(0,len(x)-1)
  idy=random.randint(0,len(x)-1)
  x=list(x)
  y=list(y)
<a name="2"></a><font color="#0000FF"><a href="match158-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_6.gif"/></a>

  if x[idx]=="0":
    x[idx]="1"
  else:
    x[idx]="0"
  if y[idy]=="0":
    y[idy]="1"
  else:
    y[idy]="0"
  chromosome1=""
</font>  chromosome2=""
  for i in range(len(x)):
    chromosome1=chromosome1+x[i]
    chromosome2=chromosome2+y[i]
<a name="0"></a><font color="#FF0000"><a href="match158-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_14.gif"/></a>

  return chromosome1,chromosome2

def geneticalgo(arr, slot):
  idx= 0
  while True:
    fit=fitness(arr,slot)
    if 0 in fit:
      idx=fit.index(0)
      return [fit[idx], arr[idx]]
    elif idx&lt;5000:
      x,y=selection(arr, fit)
      chromosome1,chromosome2=singlecrossover(x,y)
      chromosome1,chromosome2=mutation(chromosome1,chromosome2)
      arr.append(chromosome1)
      arr.append(chromosome2)
      idx=idx+1
    else:
      idx=fit.index(min(fit))
      return [fit[idx], arr[idx]]

genetic=geneticalgo(pop(10, size),slot)
</font>print("Final population: ")
print(genetic)

#Part 2
def twopoint(x,y):
  size=len(x)
  idx=random.randint(2,((len(x)-1)//2))
  idy=random.randint(idx+2,len(x)-2)
  chromosome1=x[:idx] + y[idx:idy] + x[idy:]
  chromosome2=y[:idx] + x[idx:idy] + y[idy:]
  return chromosome1,chromosome2

def twopointcrossover(arr,slot):
<a name="3"></a><font color="#00FFFF"><a href="match158-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

  fit=fitness(arr,slot)
  x,y=selection(arr, fit)
  chromosome1,chromosome2=twopoint(x,y)
  return chromosome1,chromosome2

two_point_algo=twopointcrossover(pop(10, size),slot)
</font>print("The two offsprings are: ")
print(two_point_algo)</pre>
</body>
</html>
