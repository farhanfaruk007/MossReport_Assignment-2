<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/4/21301456_fatema_tuz_zohora_panna_cse422_04_assignment02_fall2024_py_-_FATEMA_TUZ_ZOHORA_PANNA.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/4/21301456_fatema_tuz_zohora_panna_cse422_04_assignment02_fall2024_py_-_FATEMA_TUZ_ZOHORA_PANNA.py<p></p><pre>
# -*- coding: utf-8 -*-
"""21301456_Fatema Tuz Zohora Panna_CSE422_04_Assignment02_Fall2024.py.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/13zjbt47JY44XnvVab3tH4SQ3gGLh3P3-
"""

# Part 1


import random

<a name="0"></a><font color="#FF0000"><a href="match233-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_10.gif"/></a>

def initial_ppltn(pop_size, N,T):
    ppltn = []
    for i in range(pop_size):
        chromosome = ['0'] * (N * T)
        for n in range(N):
            timeslot = random.randint(0, T - 1)
            chromosome[timeslot * N + n] = '1'
        ppltn.append(''.join(chromosome))
    return ppltn


def calculate_fitness(chromosome, N,T):
    overlap_penalty = 0
    consistency_penalty = 0

    for j in range(T):
        timeslot = chromosome[j * N: (j + 1) * N]
</font>        overlap_penalty += max(0, sum(map(int, timeslot)) - 1)

    for k in range(N):
        course_schedule = chromosome[k::N]
        occurrences = course_schedule.count('1')
        consistency_penalty += abs(occurrences - 1)
        penalty= -(overlap_penalty + consistency_penalty)
    return penalty

def slctparents(ppltn, fitnesses):
    total_fitness = sum(fitnesses)
    selection = [fitness / total_fitness for fitness in fitnesses]
    parents = random.choices(ppltn, weights=selection, k=2)
    return parents


def singlepoint_crossover(parent1, parent2):
    point = random.randint(1, len(parent1) - 1)
    offspring1 = parent1[:point] + parent2[point:]
    offspring2 = parent2[:point] + parent1[point:]
    return offspring1, offspring2


def mutate(chromosome, mutation_rate):
    chromosome = list(chromosome)
<a name="1"></a><font color="#00FF00"><a href="match233-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

    for p in range(len(chromosome)):
        if random.random() &lt; mutation_rate:
            chromosome[i] = '1' if chromosome[i] == '0' else '0'
    return ''.join(chromosome)


def genetic_algorithm(N,T, courses, pop_size=100, max_generations=1000, mutation_rate=0.01):
    ppltn = initial_ppltn(pop_size, N,T)
    best_fitness = float('-inf')
</font>    best_chromosome = None

    for generation in range(max_generations):
        fitnesses = [calculate_fitness(chrom, N,T) for chrom in ppltn]

        for i in range(pop_size):
            if fitnesses[i] &gt; best_fitness:
                best_fitness = fitnesses[i]
                best_chromosome = ppltn[i]

        if best_fitness == 0:
            break

        new_ppltn = []
        while len(new_ppltn) &lt; pop_size:
            parent1, parent2 = slctparents(ppltn, fitnesses)
            offspring1, offspring2 = singlepoint_crossover(parent1, parent2)
            offspring1 = mutate(offspring1, mutation_rate)
            offspring2 = mutate(offspring2, mutation_rate)
            new_ppltn.extend([offspring1, offspring2])

        ppltn = new_ppltn[:pop_size]

    return best_chromosome, best_fitness

def read_course_data(inputfile):
    with open(inputfile, 'r') as file:
        N,T = map(int, file.readline().split())
        courses = [file.readline().strip() for v in range(N)]
    return N,T, courses


inputfile = '/content/sample_data/input2.txt'
N,T, courses = read_course_data(filename)

best_chromosome, best_fitness = genetic_algorithm(N, T, courses)
print("Best Chromosome:", best_chromosome)
print("Best Fitness:", best_fitness)



# Part 2

import random

def initialize_population(pop_size,N,T):
    ppltn = []
    for _ in range(pop_size):
        chromosome = ['0'] * (N,T)
        for a in range(N):
            timeslot = random.randint(0, T - 1)
            chromosome[timeslot * N + a] = '1'
        ppltn.append(''.join(chromosome))
    return ppltn

def two_point_crossover(parent1, parent2):
    point1 = random.randint(1, len(parent1) - 2)
    point2 = random.randint(point1 + 1, len(parent1) - 1)

    offspring1 = parent1[:point1] + parent2[point1:point2] + parent1[point2:]
    offspring2 = parent2[:point1] + parent1[point1:point2] + parent2[point2:]

    return offspring1, offspring2


N = 3
T = 3
pop_size = 100

ppltn = initial_ppltn(pop_size, N,T)
parent1, parent2 = random.sample(ppltn, 2)
offspring1, offspring2 = two_point_crossover(parent1, parent2)
print("Parent 1: ", parent1)
print("Parent 2: ", parent2)
print("Offspring 1: ", offspring1)
print("Offspring 2: ", offspring2)</pre>
</body>
</html>
