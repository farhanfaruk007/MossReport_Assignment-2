<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/5/20301393_lab2_sec5_fahim_ahamed_romit.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/14/21301120_cse422_14_labassignment2_py_-_TOHA_HOSSAIN.py<p></p><pre>
# -*- coding: utf-8 -*-
"""21301120_CSE422_14_LabAssignment2.py

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1Rd1gUUngwXq-duR6A4bpcfW-TAlgJ5Xf
"""

import random

def initialize_population(popu_sz, num_courses, num_timeslots):
    chromosome_length = num_courses * num_timeslots
    population = []
    for _ in range(popu_sz):

        chromosome = []
        for _ in range(num_timeslots):
            timeslot = [random.randint(0, 1) for _ in range(num_courses)]
            if sum(timeslot) == 0:
                timeslot[random.randint(0, num_courses - 1)] = 1
            chromosome.extend(timeslot)
        population.append(chromosome)
    return population

def fitness_function(chromosome, num_courses, num_timeslots):
    overlap_penalty = 0
    consistency_penalty = 0


    for t in range(num_timeslots):
        timeslot = chromosome[t * num_courses: (t + 1) * num_courses]
<a name="0"></a><font color="#FF0000"><a href="match207-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_12.gif"/></a>

        overlap_penalty += max(0, sum(timeslot) - 1)


    course_counts = [0] * num_courses
    for t in range(num_timeslots):
        timeslot = chromosome[t * num_courses: (t + 1) * num_courses]
        for i in range(num_courses):
            course_counts[i] += timeslot[i]

    for count in course_counts:
        consistency_penalty += abs(count - 1)

    total_penalty = overlap_penalty + consistency_penalty
    return -total_penalty

def select_parents(population, fitness_values):
    total_fitness = sum(fitness_values)
    probabilities = [f / total_fitness for f in fitness_values]
</font>    parents = random.choices(population, weights=probabilities, k=2)
    return parents

def crossover(parent1, parent2):
    crossover_point = random.randint(1, len(parent1) - 2)
    offspring1 = parent1[:crossover_point] + parent2[crossover_point:]
    offspring2 = parent2[:crossover_point] + parent1[crossover_point:]
    return offspring1, offspring2

def mutate(chromosome, mutation_rate):
    for i in range(len(chromosome)):
        if random.random() &lt; mutation_rate:
            chromosome[i] = 1 - chromosome[i]
    return chromosome

def genetic_algorithm(num_courses, num_timeslots, course_codes, max_generations=100, popu_sz=50, mutation_rate=0.01):
    population = initialize_population(popu_sz, num_courses, num_timeslots)
    best_solution = None
    best_fitness = float('-inf')

    for generation in range(max_generations):
        fitness_values = [fitness_function(chromosome, num_courses, num_timeslots) for chromosome in population]


        for i, fitness in enumerate(fitness_values):
<a name="1"></a><font color="#00FF00"><a href="match207-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

            if fitness &gt; best_fitness:
                best_fitness = fitness
                best_solution = population[i]


        new_population = []
        while len(new_population) &lt; popu_sz:
            parent1, parent2 = select_parents(population, fitness_values)
            offspring1, offspring2 = crossover(parent1, parent2)
</font>            offspring1 = mutate(offspring1, mutation_rate)
            offspring2 = mutate(offspring2, mutation_rate)
            new_population.extend([offspring1, offspring2])

        population = new_population[:popu_sz]

    return best_solution, best_fitness

# Input
num_courses, num_timeslots = map(int, input().split())
course_codes = [input().strip() for _ in range(num_courses)]

# Run Genetic Algorithm
solution, fitness = genetic_algorithm(num_courses, num_timeslots, course_codes)

# Output
print("".join(map(str, solution)))
print(fitness)

import random

def two_point_crossover(parent1, parent2):
    length = len(parent1)


    point1 = random.randint(1, length - 2)
    point2 = random.randint(point1 + 1, length - 1)


    offspring1 = parent1[:point1] + parent2[point1:point2] + parent1[point2:]
    offspring2 = parent2[:point1] + parent1[point1:point2] + parent2[point2:]

<a name="2"></a><font color="#0000FF"><a href="match207-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

    return offspring1, offspring2, point1, point2

# Example parents
parent1 = [0, 0, 0, 1, 1, 1, 0, 0, 0]
parent2 = [1, 1, 1, 0, 0, 0, 1, 1, 1]
</font>
# Perform two-point crossover
offspring1, offspring2, point1, point2 = two_point_crossover(parent1, parent2)

# Output results
print(f"Parent 1:  {''.join(map(str, parent1))}")
print(f"Parent 2:  {''.join(map(str, parent2))}")
print(f"Two points chosen: between index {point1} and {point2}")
print(f"Offspring 1: {''.join(map(str, offspring1))}")
print(f"Offspring 2: {''.join(map(str, offspring2))}")</pre>
</body>
</html>
