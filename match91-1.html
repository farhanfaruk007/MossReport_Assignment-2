<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/5/22101039_Mahmud_hasan_foysal_02_05.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/9/24141087_tasnia_tabassum_reety_cse422_sec09_assignment2_(1)_-_TASNIA_TABASSUM_REETY.py<p></p><pre>
# -*- coding: utf-8 -*-
"""ID24141087_Tasnia_Tabassum_Reety CSE422 sec09 assignment2.ipynb

Automatically generated by Colab.

Original file is located at
<a name="0"></a><font color="#FF0000"><a href="match91-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_37.gif"/></a>

    https://colab.research.google.com/drive/16mIvXWtC0pcoVVikscRhRFZowtKbdssr
"""

import random

def fitness_calculation(chrom, n, t):
  overlap = 0
  consis = 0
  fitness = 0
  schedule = []
  for i in range(t):      # matrix, schedule-wise
    start_index = i * n                       #[[1,0,0],[1,0,1],[0,1,1]]
    end_index = start_index + n
    timeslot = chrom[start_index:end_index]
    schedule.append(timeslot)

  # penalty overlap:
  for i in schedule:
    count = 0
    for j in i:
      count += 1
    if count &gt; 1:
      overlap += (count - 1)

  # penalty consistency:
  for i in range(n):
    count = 0
    for j in range(t):
      count += schedule[j][i]  # 1 means it is scheduled, so just add it
    if count != 1:
      consis += abs(count - 1)
  fitness = -(overlap + consis)
  return fitness

# Genetic Algorithm
def parents_selection(num, val):
  parent1, parent2 = random.sample(num, 2)
  return parent1, parent2

def population(x, n, t):
  num = []
  for i in range(x):
    length = n * t
    chrom = [0] * length
    for j in range(n):
      slot = random.randint(0, t - 1)
      index = slot * n + j
      chrom[index] = 1
    num.append(chrom)
  return num

def single_point_crossover(parent1, parent2):
    cut = random.randint(1, len(parent1) - 1)
    child1 = parent1[:cut] + parent2[cut:]
</font>    child2 = parent2[:cut] + parent1[cut:]
    return child1, child2

def mutation(chrom, mutation_rate):
  for i in range(len(chrom)):
    if random.random() &lt; mutation_rate:
      chrom[i] = 1 - chrom[i]
<a name="1"></a><font color="#00FF00"><a href="match91-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_19.gif"/></a>

  return chrom

def genetic_algorithm( courses,n, t, x=10, y=10, mutation_rate=0.1):
  num = population(x, n, t)

  for i in range(y):
    fit_val = []
    for j in num:
      fit_val.append(fitness_calculation(j, n, t))

      solution = max(fit_val)
      if solution == 0:
        break

      new_sol = []
      while len(new_sol) &lt; x:
        parent1, parent2 = parents_selection(num, fit_val)
        child1, child2 = single_point_crossover(parent1, parent2)
        mutate1 = mutation(child1, mutation_rate)
        mutate2 = mutation(child2, mutation_rate)
        new_sol.extend([mutate1, mutate2])

      num = new_sol[:x]
  fitness_output = max(fit_val)
  chromosome = num[fit_val.index(fitness_output)]
  return chromosome, fitness_output
</font>
N = int(input("Enter the number of courses: "))
T = int(input("Enter the number of timeslots: "))
courses = []
for i in range(N):
  sub = input("Enter course name:")
  courses.append(sub)
chromosome, fitness = genetic_algorithm(courses, N, T)
print("Chromosome:", chromosome)
print("Fitness:", fitness)

def two_point_crossover(parent1, parent2):
  point1 = int(input(f"Enter the first point that is less than {len(parent1)-2}: "))
  point2 = int(input(f"Enter the 2nd point between {point1+1} to {len(parent1)-1}:"))
  if point2 &lt; point1:
    point1, point2 = point2, point1
  if point2 &gt; len(parent1)-1 or point1 &gt; len(parent1)-1:
    print("Invalid points")

  child1 = parent1[:point1] + parent2[point1:point2] + parent1[point2:]
  child2 = parent2[:point1] + parent1[point1:point2] + parent2[point2:]

  return child1, child2

parent1 = [0,0,0,1,1,1,0,0,0]  #randomly
parent2 = [1,1,1,0,0,0,1,1,1]
child1, child2 = two_point_crossover(parent1, parent2)
print(child1)
print(child2)</pre>
</body>
</html>
