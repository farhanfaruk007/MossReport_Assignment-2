<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/14/21301629_cse422_14_labassignment2_-_AHANAF_TAHMID_SARWAR.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/14/21301629_cse422_14_labassignment2_-_AHANAF_TAHMID_SARWAR.py<p></p><pre>
# -*- coding: utf-8 -*-
"""21301629_CSE422_14_LabAssignment2

Automatically generated by Colab.

<a name="0"></a><font color="#FF0000"><a href="match74-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_57.gif"/></a>

Original file is located at
    https://colab.research.google.com/drive/1siYglN29PdfjS9JGYLf727Z86lHBhbco
"""

import random


inp1 = 'input.txt'
with open(inp1, 'r') as file:
    lines = file.readlines()
    N, T = map(int, lines[0].split())
    courses = [line.strip() for line in lines[1:1+N]]

population_size = 20
num_generations = 100
mutation_prob = 0.01


def create_population(size, length):
    return [''.join(random.choice('01') for _ in range(length)) for _ in range(size)]

population = create_population(population_size, N * T)

def fitness_calculator(chromosome):
    overlap_penalty = 0
    consistency_penalty = 0

    for t in range(T):
        timeslot = chromosome[t*N:(t+1)*N]
        courses_scheduled = timeslot.count('1')
        if courses_scheduled &gt; 1:
            overlap_penalty += (courses_scheduled - 1)

    for c in range(N):
        course_count = sum(chromosome[t*N + c] == '1' for t in range(T))
        if course_count != 1:
            consistency_penalty += abs(course_count - 1)

    total_penalty = overlap_penalty + consistency_penalty
    fitness = -total_penalty
    return fitness


temp_fitness = [fitness_calculator(chrom) for chrom in population]


def select_parents(population, fitnesses):
    total_fitness = sum(fitnesses)
    probabilities = [f / total_fitness for f in fitnesses]
    parents = random.choices(population, probabilities, k=2)
    return parents


def crossover(parent1, parent2):
    point = random.randint(1, len(parent1) - 1)
    child1 = parent1[:point] + parent2[point:]
</font>    child2 = parent2[:point] + parent1[point:]
    return child1, child2


def mutate(chromosome, prob):
    temp = list(chromosome)
<a name="1"></a><font color="#00FF00"><a href="match74-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_30.gif"/></a>

    for i in range(len(temp)):
        if random.random() &lt; prob:
            temp[i] = '1' if temp[i] == '0' else '0'
    return ''.join(temp)


for generation in range(num_generations):
    new_population = []
    for _ in range(population_size // 2):
        parent1, parent2 = select_parents(population, temp_fitness)
        child1, child2 = crossover(parent1, parent2)
        child1 = mutate(child1, mutation_prob)
        child2 = mutate(child2, mutation_prob)
        new_population.extend([child1, child2])
    population = new_population
    temp_fitness = [fitness_calculator(chrom) for chrom in population]


best_fitness = float('-inf')
best_chromosome = None
for chrom, fit in zip(population, temp_fitness):
    if fit &gt; best_fitness:
        best_fitness = fit
        best_chromosome = chrom

print("Best schedule:", best_chromosome)
print("Fitness value:", best_fitness)


parent1, parent2 = select_parents(population, temp_fitness)
child1, child2 = crossover(parent1, parent2)
print(f"Parent 1:    {parent1}")
print(f"Parent 2:    {parent2}")
print(f"Offspring 1: {child1}")
</font>print(f"Offspring 2: {child2}")</pre>
</body>
</html>
