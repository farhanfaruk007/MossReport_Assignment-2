<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/2/24141273_422_mahtab_lab2__MAHTAB_UDDIN_AL_HASAN.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/17/22101124_md_monzurul_islam_cse422_17_assignment02_fall2024_-_MD_MONZURUL_ISLAM.py<p></p><pre>
# -*- coding: utf-8 -*-
"""22101124_MD Monzurul Islam_CSE422_17_Assignment02_Fall2024.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1_Q-aTWPqRQHJfXAg0_eEPRq0jBZDyV09
"""

from google.colab import drive
drive.mount('/content/drive')

#part1
import random

input_file = open("/content/drive/MyDrive/CSE422/input_lab2.txt", "r")
course_num, timeslot_num = map(int, input_file.readline().split())

def create_chromosome(population_size):
  chromosomes = []
  for i in range(population_size):
    chromosome = ''
    for i in range(chromo_len):
      part = str(random.randint(0, 1))
      chromosome += part
<a name="2"></a><font color="#0000FF"><a href="match87-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_7.gif"/></a>

    chromosomes.append(chromosome)

  return chromosomes

def parent_selection(chromosomes):
  while True:
    parents = random.sample(chromosomes, 2)
    if parents[0] != parents[1]:
      return parents

def fitness(chromosomes):
  fitness_count = {}
  for chromosome in chromosomes:
    overlap_penalty = 0
    consistency_penalty = 0

    overlap_count = {}
    for i in range(timeslot_num):
</font>      overlap_count[i] = 0

    consistency_count = {}
<a name="4"></a><font color="#FF00FF"><a href="match87-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

    for i in range(course_num):
      consistency_count[i] = 0



    for i in range(chromo_len):
      if chromosome[i] == '1':
        overlap_count[(i // 3)] += 1
</font><a name="1"></a><font color="#00FF00"><a href="match87-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_17.gif"/></a>

        consistency_count[i % 3] += 1

    for i in overlap_count:
      overlap_penalty += abs(overlap_count[i] - 1)

    for i in consistency_count:
      consistency_penalty += abs(overlap_count[i] - 1)

    fitness_count[chromosome] = - (overlap_penalty + consistency_penalty)

  return fitness_count

def single_point_crossover(parents):
  crossover_point = chromo_len // 2
  child1 = parents[0][:crossover_point] + parents[1][crossover_point:]
  child2 = parents[1][:crossover_point] + parents[0][crossover_point:]
  return [child1, child2]

def mutation(chromosomes):
  for i in range(len(chromosomes)):
    mutation_point = random.randint(0, chromo_len - 1)
    chromosome = list(chromosomes[i])
</font>
    if chromosome[mutation_point] == '0':
      chromosome[mutation_point] = '1'
    else:
<a name="0"></a><font color="#FF0000"><a href="match87-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_18.gif"/></a>

      chromosome[mutation_point] = '0'

    chromosomes[i] = ''.join(chromosome)
  return chromosomes

def genetic_algorithm(population_size, iteration):
  chromosomes = create_chromosome(population_size)
  for i in range(iteration):
    fitness_scores = fitness(chromosomes)
    sorted_fitness = sorted(fitness_scores.items(), key=lambda item: item[1], reverse=True)

    if sorted_fitness[0][1] == 0:
      break
    parents = parent_selection(chromosomes)

    for i in parents:
      chromosomes.remove(i)

    offspring = single_point_crossover(parents)
    m_offspring = mutation(offspring)
    chromosomes.extend(m_offspring)

  best_chromosome = max(fitness_scores, key = fitness_scores.get)

  return best_chromosome, fitness_scores[best_chromosome]

population_size = 10
chromo_len = int(course_num) * int(timeslot_num)
iteration = 100

best_chromosome, highest_fitness = genetic_algorithm(population_size, iteration)
print(best_chromosome)
</font><a name="3"></a><font color="#00FFFF"><a href="match87-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_5.gif"/></a>

print(highest_fitness)

#part2

import random

input_file = open("/content/drive/MyDrive/CSE422/input_lab2.txt", "r")
course_num, timeslot_num = input_file.readline().split()

def create_chromosome(population_size):
  chromosomes = []
  for i in range(population_size):
    chromosome = ''
    for i in range(chromo_len):
</font>      part = str(random.randint(0, 1))
      chromosome += part
    chromosomes.append(chromosome)

  return chromosomes

def parent_selection(chromosomes):
  while True:
    parents = random.sample(chromosomes, 2)
    if parents[0] != parents[1]:
      return parents

def two_point_crossover(parents):
  point1 = random.randint(0, chromo_len - 1)
  point2 = random.randint(point1, chromo_len)

  child1 = (parents[0][:point1] + parents[1][point1:point2] + parents[0][point2:])

  child2 = (parents[1][:point1] + parents[0][point1:point2] + parents[1][point2:])

  return [child1, child2]


def genetic_algorithm(population_size, iteration):
  chromosomes = create_chromosome(population_size)
  parents = parent_selection(chromosomes)
  offspring = two_point_crossover(parents)

  return parents, offspring

population_size = 10
len_of_cromosome = int(course_num) * int(timeslot_num)
iteration = 1

parents, offspring = genetic_algorithm(population_size, iteration)
print("Parents:", parents)
print("C_Offspring:", offspring)</pre>
</body>
</html>
