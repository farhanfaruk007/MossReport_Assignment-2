<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/6/21301115_tanzim_haque_cse422_06_assignment02_fall2024_-_TANZIM_HAQUE.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/6/21301115_tanzim_haque_cse422_06_assignment02_fall2024_-_TANZIM_HAQUE.py<p></p><pre>
# -*- coding: utf-8 -*-
"""21301115_Tanzim Haque_CSE422_06_Assignment02_Fall2024.ipynb

Automatically generated by Colab.

Original file is located at
<a name="0"></a><font color="#FF0000"><a href="match75-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_19.gif"/></a>

    https://colab.research.google.com/drive/1__l72wmQ8p_JZznGrOm19QOQdR37i49p
"""

import random


def calculate_fitness(chromosome, N, T):
  schedule = [chromosome[i * N:(i + 1) * N] for i in range(T)]
  overlap_penalty = 0
  consistency_penalty = 0
  course_counts = [0] * N

  for timeslot in schedule:
    courses_in_slot = sum(timeslot)
    if courses_in_slot &gt; 1:
      overlap_penalty += courses_in_slot - 1
    for i, course in enumerate(timeslot):
      if course == 1:
        course_counts[i] += 1

    for count in course_counts:
      consistency_penalty += abs(count - 1)

  return -(overlap_penalty + consistency_penalty)


def crossover(parent1, parent2):
  crossover_point = random.randint(1, len(parent1) - 1)
</font>  child1 = parent1[:crossover_point] + parent2[crossover_point:]
<a name="1"></a><font color="#00FF00"><a href="match75-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_19.gif"/></a>

  child2 = parent2[:crossover_point] + parent1[crossover_point:]
  return child1, child2


def mutate(chromosome, mutation_rate):
  return [1 - bit if random.random() &lt; mutation_rate else bit for bit in chromosome]


def initialize_population(pop_size, chrom_length):
  return [[random.randint(0, 1) for _ in range(chrom_length)] for _ in range(pop_size)]


def genetic_algorithm(N, T, population_size, generations, mutation_rate):
  chrom_length = N * T
  population = initialize_population(population_size, chrom_length)

  for generation in range(generations):
    fitness_scores = [calculate_fitness(chromosome, N, T) for chromosome in population]
    best_fitness = max(fitness_scores)
    best_chromosome = population[fitness_scores.index(best_fitness)]

    print(f"Generation {generation + 1}: Best Fitness = {best_fitness}")

    if best_fitness == 0:

      break


      selected_parents = random.choices(population, weights=[score + 1 for score in fitness_scores], k=population_size // 2)
</font><a name="3"></a><font color="#00FFFF"><a href="match75-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_9.gif"/></a>




      new_population = []
      while len(new_population) &lt; population_size:
        parent1, parent2 = random.sample(selected_parents, 2)
        child1, child2 = crossover(parent1, parent2)
        child1 = mutate(child1, mutation_rate)
        child2 = mutate(child2, mutation_rate)
        new_population.extend([child1, child2])
        population = new_population[:population_size]

  return best_chromosome, best_fitness


def two_point_crossover(parent1, parent2):
</font>  length = len(parent1)
  point1 = random.randint(1, length - 3)
  point2 = random.randint(point1 + 1, length - 1)
  child1 = parent1[:point1] + parent2[point1:point2] + parent1[point2:]
  child2 = parent2[:point1] + parent1[point1:point2] + parent2[point2:]
  return child1, child2


<a name="2"></a><font color="#0000FF"><a href="match75-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_14.gif"/></a>

while True:
  try:
    N, T = map(int, input("Enter number of courses and timeslots (e.g., '3 3'): ").split())
    if T &lt; N:
      print("Error: The number of timeslots (T) must be greater than or equal to the number of courses ðŸ‘Ž.")
      continue
    break
  except ValueError:
    print("Invalid input. Please enter two space-separated integers for the number of courses and timeslots.")

courses = [input(f"Enter course code for course {i + 1}: ") for i in range(N)]


best_solution, fitness_value = genetic_algorithm(N, T, population_size=100, generations=100, mutation_rate=0.1)


schedule = [best_solution[i * N:(i + 1) * N] for i in range(T)]
output = ''.join(map(str, [bit for slot in schedule for bit in slot]))
</font>print(f"Binary Schedule: {output}")
print(f"Fitness Value: {fitness_value}")


parent1 = [0, 0, 0, 1, 1, 1, 0, 0, 0]
parent2 = [1, 1, 1, 0, 0, 0, 1, 1, 1]

offspring1, offspring2 = two_point_crossover(parent1, parent2)

print("Two-Point Crossover:")
print("Parent 1:", ''.join(map(str, parent1)))
print("Parent 2:", ''.join(map(str, parent2)))
print("Offspring 1:", ''.join(map(str, offspring1)))
print("Offspring 2:", ''.join(map(str, offspring2)))</pre>
</body>
</html>
