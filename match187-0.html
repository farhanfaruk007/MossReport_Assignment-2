<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/9/22101613_nabil_walid_rafat_22101613_(1)_-_NABIL_WALID_RAFAT.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/9/22101613_nabil_walid_rafat_22101613_(1)_-_NABIL_WALID_RAFAT.py<p></p><pre>
# -*- coding: utf-8 -*-
"""Nabil Walid Rafat_22101613.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1euk9PGBPh8vVE9fgDfzH6HFrNfJ-6v0o
"""



#task1
import random

total_course=3
total_time_slots=3
index=0

<a name="3"></a><font color="#00FFFF"><a href="match187-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

def string_generate(n):
  string1=''
  for i in range(n):
        temp = str(random.randint(0, 1))
        string1 += temp
  return string1

def generating_population(length):
</font>  population_list=[]
  epochs=10
  for i in range(epochs):
        chromosome = string_generate(length)
        if chromosome in population_list:
            epochs+=1
        else:
            population_list.append(chromosome)

  return population_list

def fitness_fun(chromose, total_courses, total_time_slots):
  time_slots=[]
  for i in range(total_time_slots):
    start_idx=i*total_courses
    end_idx=(i+1)*total_courses
    time_slots.append(chromose[start_idx:end_idx])

<a name="2"></a><font color="#0000FF"><a href="match187-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_6.gif"/></a>

  overlap_penalty=0
  for i in range(total_time_slots):
        overlap=0
        for j in range(total_courses):
            if time_slots[i][j]=="1":
                overlap+=1
        if overlap!=0:
            overlap_penalty+=(overlap-1)
</font>
<a name="1"></a><font color="#00FF00"><a href="match187-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_7.gif"/></a>

  consistency_penalty=0
  for i in range(total_time_slots):
        count=0
        for j in range(total_courses):
            if time_slots[j][i] == "1":
                count+=1
        if count!=0:
            consistency_penalty += (count - 1)
        else:
            consistency_penalty += 1
</font>  fitness = -(overlap_penalty + consistency_penalty)
  return fitness

def crossover(arr1, arr2):
  crossover_point=random.randint(1, len(arr1)-1)
  c1=arr1[:crossover_point]+arr2[crossover_point:]
  c2=arr2[:crossover_point]+arr1[crossover_point:]
  return c1, c2

def mutation(offspring1, offspring2, mutation_rate=0.1):
    offspring1=list(offspring1)
    offspring2=list(offspring2)
    rand_c1=random.randint(0, len(offspring1) - 1)
    rand_c2=random.randint(0, len(offspring2) - 1)
    if rand_c1!=rand_c2:
        offspring1[rand_c1] = offspring2[rand_c1]
        offspring2[rand_c2] = offspring1[rand_c2]
    offspring1 = ''.join(offspring1)
    offspring2 = ''.join(offspring2)

    return offspring1, offspring2

chromosome_len=total_course*total_time_slots
courses = []
for i in range(0,total_course):
    courses.append(input())
list_of_population = generating_population(chromosome_len)
list_of_offspring=[]
<a name="0"></a><font color="#FF0000"><a href="match187-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_8.gif"/></a>

list_of_final_chromosomes=[]

for i in range(5):
  rand_c1 = random.randint(0,9)
  rand_c2 = random.randint(0,9)
  while rand_c1==rand_c2:
     rand_c2=random.randint(0,9)
  offspring1, offspring2=crossover(list_of_population[rand_c1], list_of_population[rand_c2])
  child1, child2=mutation(offspring1, offspring2)
</font>  list_of_offspring.extend([offspring1, offspring2])

list_of_final_chromosomes.extend(list_of_population)
list_of_final_chromosomes.extend(list_of_offspring)

for i in range(len(list_of_final_chromosomes)):
      fitness_value=[fitness_fun(chromosome, total_course, total_time_slots) for chromosome in list_of_final_chromosomes]
print(fitness_value)
print(list_of_final_chromosomes)

#task2

def two_point_crossover(chromosome1, chromosome2):
    length=9
    crossover_p1=random.randint(1, length - 2)
    crossover_p2=random.randint(crossover_p1 + 1, length - 1)

    offspring1=chromosome1[:crossover_p1] + chromosome2[crossover_p1:crossover_p2] + chromosome1[crossover_p2:]
    offspring2=chromosome2[:crossover_p1] + chromosome1[crossover_p1:crossover_p2] + chromosome2[crossover_p2:]

    return offspring1, offspring2

c1, c2 = two_point_crossover([0, 0, 0, 1, 1, 1, 0, 0, 0], [1, 1, 1, 0, 0, 0, 1, 1, 1])

print(c1)
print(c2)</pre>
</body>
</html>
