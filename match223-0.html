<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/6/22101728_rabaya_farzana_sikder_cse422_06_assignment02_fall2024_(1)_-_RABAYA_FARZANA_SIKDER.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/6/22101728_rabaya_farzana_sikder_cse422_06_assignment02_fall2024_(1)_-_RABAYA_FARZANA_SIKDER.py<p></p><pre>
# -*- coding: utf-8 -*-
"""22101728_Rabaya Farzana Sikder_CSE422_06_Assignment02_Fall2024.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/12MoeOJJYSDId92qOMdgNdZwMhaK1xvcC
"""

#task1
import random     #task1
def create_chromosome(N, T):
    chromosome = ""
    for i in range(N * T):
        chromosome += random.choice('01')
    return chromosome


def check_fitness(chromosome, N, T):
    overlap_penalty = 0
    consistency_penalty = 0
<a name="2"></a><font color="#0000FF"><a href="match223-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

    courses_scheduled = [0] * N

    for t in range(T):
        timeslot = chromosome[t * N: (t + 1) * N]
        scheduled_courses = timeslot.count('1')
</font>        if scheduled_courses &gt; 1:
            overlap_penalty += scheduled_courses - 1

        for i, course in enumerate(timeslot):
            courses_scheduled[i] += int(course)

    for count in courses_scheduled:
        if count != 1:
            consistency_penalty += abs(count - 1)

    return -(overlap_penalty + consistency_penalty)


def parents_selection(population_pool):
    parent1 = random.choice(population_pool)
    parent2 = random.choice(population_pool)
    return parent1, parent2


def single_p_crossover(p1, p2):
    random_index = random.randint(0, len(p1) - 1)
    child1 = p1[:random_index] + p2[random_index:]
    child2 = p2[:random_index] + p1[random_index:]
    return child1, child2


def mutation(chromosome, mutation_rate=0.01):
    mutated_child = ''
    for bit in chromosome:
        if random.random() &lt; mutation_rate:
            if bit == '0':
                mutated_child += '1'
            else:
                mutated_child += '0'
        else:
            mutated_child += bit

    return mutated_child


def genetic_algorithm(N, T, population_size=10, generations=1000):
    population_pool = []
    for c in range(population_size):
        chromosome = create_chromosome(N, T)
        fitness = check_fitness(chromosome, N, T)
        if fitness == 0:
            return chromosome, fitness, 0
        else:
            if '1' in chromosome:
              population_pool.append(chromosome) # ignoring strings containing all zero's


    for generation in range(generations):
        population_pool = sorted(population_pool, key=lambda chromo: check_fitness(chromo, N, T), reverse=True)
        next_generation = []

        for c in range(5):
            parent1, parent2 = parents_selection(population_pool)
            child1, child2 = single_p_crossover(parent1, parent2)
            next_generation.extend([mutation(child1), mutation(child2)])

        next_generation = sorted(next_generation, key=lambda chromo: check_fitness(chromo, N, T), reverse=True)
        population_pool = next_generation[:20]

        population_pool = sorted(population_pool, key=lambda chromo: check_fitness(chromo, N, T), reverse=True)[:10]

        best_chromosome = population_pool[0]
        best_fitness = check_fitness(best_chromosome, N, T)
        if best_fitness == 0:
            break

    return best_chromosome, best_fitness, generation


def read_input_file(file_path):
    with open(file_path, 'r') as file:
        lines = file.readlines()

<a name="3"></a><font color="#00FFFF"><a href="match223-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

    N, T = map(int, lines[0].strip().split())
    courses = [line.strip() for line in lines[1:]]

    return N, T
</font>

input_file = 'txt1.txt'
N, T = read_input_file(input_file)
c, f, g = genetic_algorithm(N, T)
print(f"Best Chromosome: {c} \nBest Fitness: {f}\nGeneration: {g}")

#task02
import random    #task2

def create_chromosome(N, T):
    chromosome = ""
    for i in range(N * T):
        chromosome += random.choice('01')
    return chromosome


<a name="0"></a><font color="#FF0000"><a href="match223-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

def population_pool(N, T, population_size=10):
    population_pool = []
    for c in range(population_size):
        chromosome = create_chromosome(N, T)
        if '1' in chromosome:
            population_pool.append(chromosome) # ignoring strings containing all zero's

    return population_pool


def parents_selection(population_pool):
    parent1 = random.choice(population_pool)
</font>    parent2 = random.choice(population_pool)
    return parent1, parent2


def single_point_crossover(parent1, parent2):
    length = len(parent1)
    point1 = random.randint(1, length - 1)
    point2 = random.randint(point1 + 1, length)

    offspring1 = parent1[:point1] + parent2[point1:point2] + parent1[point2:]
    offspring2 = parent2[:point1] + parent1[point1:point2] + parent2[point2:]

    return point1, point2, offspring1, offspring2


def read_input_file(file_path):
    with open(file_path, 'r') as file:
        lines = file.readlines()

    N, T = map(int, lines[0].strip().split())
    courses = [line.strip() for line in lines[1:]]

    return N, T


######
<a name="1"></a><font color="#00FF00"><a href="match223-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

input_file = 'txt1.txt'
N, T = read_input_file(input_file)
population_pool = population_pool(N, T)
parent1, parent2 = parents_selection(population_pool)
p1, p2, offspring1, offspring2 = single_point_crossover(parent1, parent2)

print(f"Point 1: {p1}")
print(f"Point 1: {p2}")
print(f"Parent 1: {parent1}")
</font>print(f"Parent 2: {parent2}")
print(f"Offspring 1: {offspring1}")
print(f"Offspring 2: {offspring2}")</pre>
</body>
</html>
