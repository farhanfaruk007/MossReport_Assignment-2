<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/15/22101218_md_naimur_rahman_cse422_15_lab_assignment02_fall2024_-_MD._NAIMUR_RAHMAN.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/15/22101218_md_naimur_rahman_cse422_15_lab_assignment02_fall2024_-_MD._NAIMUR_RAHMAN.py<p></p><pre>
# -*- coding: utf-8 -*-
"""22101218_Md. Naimur Rahman_CSE422_15_Lab_Assignment02_Fall2024

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1nuuadirh-_GQOSa8IE7NwNmZC8lTy48C

```
Name: Md. Naimur Rahman
ID: 22101218
Section: 15
```
"""

<a name="10"></a><font color="#FF0000"><a href="match5-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

import random
file1 = open("input1.txt","r")
file2 = open("output1.txt","w")
file3 = open("output2.txt","w")
matrix = list(map(int,file1.readline().split(" ")))
read_files = file1.read().split("\n")
</font>
"""#1: Population Initialization"""

<a name="6"></a><font color="#00FF00"><a href="match5-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

def initialize_population(matrix):
  list0 = []
  for i in range(10):
    str1 = ""
    for j in range(matrix[0]*matrix[1]):
      str1+=str(random.randint(0,1))
    list0.append(str1)
  return list0
population_initial = initialize_population(matrix)
</font>
"""#2: Fitness Calculation"""

<a name="2"></a><font color="#0000FF"><a href="match5-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_11.gif"/></a>

def calculate_fitness(population):
  course = matrix[0]
  timeslot = matrix[1]
  chromosome = []

  for i in range(0,len(population),course):
    chromosome.append(population[i:i+course])

  calculate_1 = {}

  for i in range(course):
    calculate_1[i]=0

  calculate_2 = {}

  for i in range(timeslot):
    calculate_2[i]=0

  for i in range(len(chromosome)):
    for j in range(len(chromosome[i])):
      calculate_1[j]+=int(chromosome[i][j])
      calculate_2[i]+=int(chromosome[i][j])

  value1 = 0
  value2 = 0

  for i in calculate_1.values():
    value1+=abs(i-1)

  for i in calculate_2.values():
</font>    if i&lt;=0:
      pass
    else:
      value2+= i-1

  final_value = abs(value1 + value2)
  return population,-final_value

"""#3: Selection of the Fittest Chromosome"""

def selection(population):
  pointer1 = random.randint(0,len(population)-1)
<a name="9"></a><font color="#FF00FF"><a href="match5-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

  pointer2 = random.randint(0,len(population)-1)

  while pointer1 == pointer2:
    pointer2 = random.randint(0,len(population)-1)
  return population[pointer1],population[pointer2]
</font>
"""#4: Crossover"""

<a name="1"></a><font color="#00FF00"><a href="match5-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_15.gif"/></a>

def crossover(parent1,parent2):
  global population_initial
  temp_list = []

  for i in range(len(population_initial)//2):
    rec1 = calculate_fitness(parent1)
    rec2 = calculate_fitness(parent2)

    if rec1[1]==0:
      return rec1[0],rec1[1]
    elif rec2[1]==0:
      return rec2[0],rec2[1]

    crosscheck1 = random.randint(0,len(parent1)-1)
    crosscheck2 = crosscheck1+1

    offspring1 = parent1[0:crosscheck2]+parent2[crosscheck2:]
    offspring2 = parent2[0:crosscheck2]+parent1[crosscheck2:]
    random_number = random.randint(0,100)

    if random_number&gt;30:
      offspring1 = mutation(offspring1)
      offspring2 = mutation(offspring2)

    rec1 = calculate_fitness(offspring1)
    rec2 = calculate_fitness(offspring2)

    if rec1[1]==0:
      return rec1[0],rec1[1]
    elif rec2[1]==0:
      return rec2[0],rec2[1]
    else:
        temp_list.append(offspring1)
        temp_list.append(offspring2)
  population_initial = temp_list
</font>  return None

"""#5: Mutation"""

<a name="5"></a><font color="#FF0000"><a href="match5-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

def mutation(population):
  random_index = random.randint(0,len(population)-1)
  random_value = random.randint(0,1)
  str1 = ""
  for i in range(len(population)):
    if i==random_index:
      str1+=str(random_value)
    else:
        str1+=population[i]
</font>  return str1

"""#Part - 1"""

<a name="11"></a><font color="#00FF00"><a href="match5-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

condition =  False
item_returned = None

for i in population_initial:
  s1 = calculate_fitness(i)
  if s1[1]==0:
    condition = True
    item_returned = s1
    break

if condition == True:
</font><a name="7"></a><font color="#0000FF"><a href="match5-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

  file2.write(f"{item_returned[0]}\n")
  file2.write(f"{item_returned[1]}")
else:
  i = 0

  condition_1 = False
  while i&lt;300:
    arr1 = selection(population_initial)
    record = crossover(arr1[0],arr1[1])
</font>
    if record!=None:
      condition_1 = True
      file2.write(f"{record[0]}\n")
      file2.write(f"{record[1]}")
      break
    i+=1

  if condition_1==False:
<a name="3"></a><font color="#00FFFF"><a href="match5-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_6.gif"/></a>

      list1 = []
      list2 = []

      for i in population_initial:
        fitness_1 = calculate_fitness(i)
        list1.append(fitness_1[0])
        list2.append(fitness_1[1])
      max = list2[0]
      pointer = 0

      for i in range(len(list2)):
        if list2[i]&gt;max:
          max = list2[i]
          pointer = i
      file2.write(f"{list1[pointer]}\n")
      file2.write(f"{list2[pointer]}")
file2.close()
</font>
"""#Part - 2"""

<a name="0"></a><font color="#FF0000"><a href="match5-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_19.gif"/></a>

def again_crossover(parent1,parent2):
  global initial_population
  temp_list = []

  for i in range(len(initial_population)//2):
      rec1 = calculate_fitness(parent1)
      rec2 = calculate_fitness(parent2)

      if rec1[1]==0:
        return rec1[0],rec1[1]
      elif rec2[1]==0:
        return rec2[0],rec2[1]

      first_crosscheck = random.randint(0,len(parent1)-2)
      cross_point2 = first_crosscheck+1

      second_crosscheck = random.randint(first_crosscheck+1,len(parent1)-1)
      third_crosscheck = second_crosscheck+1


      offspring1 = parent1[0:second_crosscheck]+parent2[second_crosscheck:third_crosscheck]+parent1[third_crosscheck:]
      offspring2 = parent2[0:second_crosscheck]+parent1[second_crosscheck:third_crosscheck]+parent2[third_crosscheck:]

      rec1 = calculate_fitness(offspring1)
      rec2 = calculate_fitness(offspring2)

      if rec1[1]==0:
        return rec1[0],rec1[1]
      elif rec2[1]==0:
        return rec2[0],rec2[1]
      else:
          temp_list.append(offspring1)
          temp_list.append(offspring2)

  initial_population = temp_list
  return None

initial_population = initialize_population(matrix)
condition =  False
item_returned = None

for i in initial_population:
    s1 = calculate_fitness(i)
    if s1[1]==0:
      condition = True
      item_returned = s1
      break

if condition == True:
</font><a name="8"></a><font color="#00FFFF"><a href="match5-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

  file2.write(f"{item_returned[0]}\n")
  file2.write(f"{item_returned[1]}")
else:
    i = 0
    condition_1 = False
    while i&lt;1:
      arr1 = selection(initial_population)
      record = again_crossover(arr1[0],arr1[1])
</font>      if record!=None:
        condition_1 = True
        file3.write(f"{record[0]}\n")
        file3.write(f"{record[1]}")
        break
      i+=1

    if condition_1==False:
<a name="4"></a><font color="#FF00FF"><a href="match5-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_6.gif"/></a>

      list1 = []
      list2 = []
      for i in initial_population:
          fitness_1 = calculate_fitness(i)
          list1.append(fitness_1[0])
          list2.append(fitness_1[1])
      max = list2[0]
      pointer = 0

      for i in range(len(list2)):
        if list2[i]&gt;max:
          max = list2[i]
          pointer = i
      file3.write(f"{list1[pointer]}\n")
      file3.write(f"{list2[pointer]}")
file3.close()</font></pre>
</body>
</html>
