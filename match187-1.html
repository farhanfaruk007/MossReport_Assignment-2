<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/9/22101613_nabil_walid_rafat_22101613_(1)_-_NABIL_WALID_RAFAT.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/15/24141085_Zabid_Rahman_Cse422_15_Assignment_2_-_ZABID_RAHMAN.py<p></p><pre>
# -*- coding: utf-8 -*-
"""Genetic Algorithm.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1auupZqdpoCEfO5uuCQYHwIqdUiFiYDUl
"""

import random

<a name="3"></a><font color="#00FFFF"><a href="match187-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

def random_with_N_digits(n):
    key1 = ""
    for i in range(n):
        temp = str(random.randint(0, 1))
        key1 += temp
    return key1

def generate_chromosome(chromosomes, length):
</font>    num_chromosomes = 10
    for i in range(num_chromosomes):
        chromosome = random_with_N_digits(length)
        if chromosome not in chromosomes:
            chromosomes.append(chromosome)
        else:
            num_chromosomes += 1

def fitness(chromosome, timeslot_num, course_num):
    timeslot = []
    x = 0
    y = course_num
    for i in range(timeslot_num):
        temp = chromosome
        timeslot.append(temp[x:y])
        x += course_num
        y += course_num
    #Overlapping
<a name="2"></a><font color="#0000FF"><a href="match187-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

    error = 0
    for i in range(timeslot_num):
        count = 0
        for j in range(course_num):
            if timeslot[i][j] == "1":
                count += 1
        if count != 0:
            error += (count - 1)
</font><a name="1"></a><font color="#00FF00"><a href="match187-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

    #Consistency
    for i in range(course_num):
        count = 0
        for j in range(timeslot_num):
            if timeslot[j][i] == "1":
                count += 1
        if count != 0:
            error += (count - 1)
        else:
            error += 1
</font>    return (-1*error)

def crossover(f_chromosome, s_chromosome, length):
    crossover_p1 = random.randint(0, length - 2)
    crossover_p2 = random.randint(crossover_p1 + 1, length - 1)

    offspring1 = f_chromosome[:crossover_p1] + s_chromosome[crossover_p1:crossover_p2] + f_chromosome[crossover_p2:]
    offspring2 = s_chromosome[:crossover_p1] + f_chromosome[crossover_p1:crossover_p2] + s_chromosome[crossover_p2:]

    return offspring1, offspring2

def genetic_algorithm():
    NT = [int(i) for i in input().split(" ")]

    chromosome_len = NT[0]*NT[1]
    courses = []
    for i in range(0,NT[0]):
        courses.append(input())

    chromosomes = []
    generate_chromosome(chromosomes, chromosome_len)

<a name="0"></a><font color="#FF0000"><a href="match187-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

    while True:
        for i in range(5):
            random_c1 = random.randint(0,9)
            random_c2 = random.randint(0,9)
            while random_c1 == random_c2:
                random_c2 = random.randint(0,9)
            offspring1, offspring2 = crossover(chromosomes[random_c1], chromosomes[random_c2], chromosome_len)
            chromosomes.extend([offspring1, offspring2])
</font>
        fitness_c = [0]*20
        for i in range(len(chromosomes)):
            error = fitness(chromosomes[i], NT[1], NT[0])
            fitness_c[i] = error

        for i in range(len(fitness_c)):
            if fitness_c[i] == 0:
                return chromosomes[i], courses

        for i in range(10):
            minimum_f_indx = fitness_c.index(min(fitness_c))
            fitness_c[minimum_f_indx] = 0
            chromosomes[minimum_f_indx] = 0

        chromosomes = [i for i in chromosomes if i != 0]
        fitness_c = [i for i in fitness_c if i != 0]

output, courses = genetic_algorithm()
def main(output, courses):
    part1 = output[:3]
    part2 = output[3:6]
    part3 = output[6:]
    for i in range(len(part1)):
        if part1[i] == "1":
            print(f"{courses[i]} -&gt;", end="")
    for i in range(len(part2)):
        if part2[i] == "1":
            print(f"{courses[i]} -&gt;", end="")
    for i in range(len(part3)):
        if part3[i] == "1":
            print(f"{courses[i]}")

main(output, courses)

def double_point_crossover(f_chromosome, s_chromosome, length):

    crossover_p1 = random.randint(0, length - 2)
    crossover_p2 = random.randint(crossover_p1 + 1, length - 1)


    offspring1 = (f_chromosome[:crossover_p1] +
                  s_chromosome[crossover_p1:crossover_p2] +
                  f_chromosome[crossover_p2:])
    offspring2 = (s_chromosome[:crossover_p1] +
                  f_chromosome[crossover_p1:crossover_p2] +
                  s_chromosome[crossover_p2:])

    return offspring1, offspring2
print(double_point_crossover([1,2,3,4,5],[6,7,8,9,10],5))</pre>
</body>
</html>
