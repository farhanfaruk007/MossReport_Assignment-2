<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/7/22101236_Sawrave_Ahmed_CSE422_07_Assignment02_Fall2024_-_SAWRAVE_AHMED.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/7/22101379_md_mozahedul_hoque_cse422_07_assignment02_fall2024_-_MD._MOZAHEDUL_HOQUE.py<p></p><pre>
# -*- coding: utf-8 -*-
"""22101379_Md. Mozahedul Hoque_CSE422_07_Assignment02_Fall2024.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1TlZJvV6QUw93Ovv1Naprv4AGfYTd5tih

TASK 1
"""

import random

def fit_eval(schedule, num_courses, num_slots):
  overlap_penalty = 0
  consistency_penalty = 0
  schedule_matrix = []  # timeslot rakhtesi empty list tai

  for i in range(num_slots):
    start_index = i * num_courses  # statrt index dhorlam
    end_index = start_index + num_courses  # end index dhorlam
    timeslot = [int (k) for k in schedule[start_index:end_index]]  # timeslot ta ber korlam
    schedule_matrix.append(timeslot)  # empty list e append korlam
  #print(schedule_matrix)


  for slot in schedule_matrix:
    courses_scheduled = sum(slot)
    if courses_scheduled &gt; 1:
      overlap_penalty += (courses_scheduled - 1)
  #print(overlap_penalty)

  for course_idx in range(num_courses):
    times_scheduled = 0  # Counter dhorlam barbe
    for slot in schedule_matrix:
      times_scheduled += slot[course_idx]
    if times_scheduled != 1:
<a name="3"></a><font color="#00FFFF"><a href="match121-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_7.gif"/></a>

      consistency_penalty += abs(times_scheduled-1)
  #print(consistency_penalty)

  total_plt = overlap_penalty + consistency_penalty
  return -total_plt

def parentsSelection(population):
  return random.choice(population), random.choice(population)

def crossover(par1, par2):
  crossoverPt = random.randint(1, len(par1) - 1)
  child1 = par1[:crossoverPt] + par2[crossoverPt:]
</font>  child2 = par2[:crossoverPt] + par1[crossoverPt:]
  return child1, child2

def mutate(chromosome, rate_of_mutation=0.01):
  for idx in range(len(chromosome)):
    if random.random() &lt; rate_of_mutation:
      chromosome[idx] = 1 if chromosome[idx] == 0 else 0

def populationCreation(size, length):
    population = []
    for _ in range(size):
        individual = []
        for _ in range(length):
            individual.append(random.randint(0, 1))
<a name="2"></a><font color="#0000FF"><a href="match121-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_9.gif"/></a>

        population.append(individual)
    return population


def genetic_Algo(num_courses, num_slots, population_size=10, generations=100, rate_of_mutation=0.01):
  chromLen = num_courses * num_slots
  population = populationCreation(population_size, chromLen)
  bestChrom = None
  maxFitness = float('-inf')

  for gen in range(generations):

    fitnessPt = [(chrom, fit_eval(chrom, num_courses, num_slots)) for chrom in population]
</font>
<a name="0"></a><font color="#FF0000"><a href="match121-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_17.gif"/></a>

    if fitnessPt[0][1] &gt; maxFitness:
      best_chromosome, maxFitness = fitnessPt[0]
    topHalf = [chrom for chrom, fit in fitnessPt[:population_size // 2]]

    newPopulation = []
    while len(newPopulation) &lt; population_size:
      parent1, parent2 = parentsSelection(topHalf)
      offspring1, offspring2 = crossover(parent1, parent2)
      mutate(offspring1,  rate_of_mutation)
      mutate(offspring2, rate_of_mutation)
      newPopulation.extend([offspring1, offspring2])

    population = newPopulation

  return best_chromosome, maxFitness

if __name__ == "__main__":
  num_courses, num_slots = map(int, input("Enter the number of courses and slots: ").split())
  courseCodes = [input(f"Enter course code {i + 1}: ") for i in range(num_courses)]
  optimal_schedule, fitness_score = genetic_Algo(num_courses, num_slots)
</font>  print('Optimal Schedule:', ''.join(map(str, optimal_schedule)))
  print('Fitness Score:', fitness_score)

"""TASK 2

"""

import random
def two_pt_crossover(parent1, parent2):
  crossover_point1 = random.randint(1, len(parent1) - 2) #randomly select kortesi random diye
<a name="1"></a><font color="#00FF00"><a href="match121-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_14.gif"/></a>

  crossover_point2 = random.randint(crossover_point1 + 1, len(parent1) - 1)
  #print(crossover_point1,crossover_point2)

  child1 = parent1[:crossover_point1] + parent2[crossover_point1:crossover_point2+1] + parent1[crossover_point2+1:]
  child2 = parent2[:crossover_point1] + parent1[crossover_point1:crossover_point2+1] + parent2[crossover_point2+1:]
  return child1, child2

parent1 = input("Enter parent1 Gene: ") #"000111000"
parent2 = input("Enter parent2 Gene: ") #"111000111"
child1, child2 = two_pt_crossover(parent1, parent2)

#print("Parent 1:", parent1)
#print("Parent 2:", parent2)
print("Child 1:", child1)
print("Child 2:", child2)</font></pre>
</body>
</html>
