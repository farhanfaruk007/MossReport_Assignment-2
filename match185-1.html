<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/8/22299036_Tanmoy_Saha_S08_-_TANMOY_SAHA.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/15/24241129_nusrat_jahan_madhurzo_cse422_15_lab_assignment02_fall2024_-_NUSRAT_JAHAN_MADHURZO.py<p></p><pre>
# -*- coding: utf-8 -*-
"""24241129_Nusrat Jahan Madhurzo_CSE422_15_Lab_Assignment02_Fall2024.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1LMY-Sk6NIix4e8_q3TeSOEvKG11oTcBi
"""

#TASK 01



import random


def calculation_fitness(chromosome, N, T):
  overlap_penalty = 0
  consistency_penalty = 0
  for timeslot in range(T):
    scheduled_courses = 0
    for course in range(N):
      scheduled_courses += int(chromosome[timeslot * N + course])
    if scheduled_courses &gt; 1:
      overlap_penalty += (scheduled_courses - 1)

  for course in range(N):
    times_scheduled = 0
    for timeslot in range(T):
      if int(chromosome[timeslot * N + course]) == 1:
        times_scheduled += 1

    consistency_penalty += abs(times_scheduled - 1)

  total_penalty = overlap_penalty + consistency_penalty

  return -total_penalty


def initial_population(population_size, chromosome_len):
  population = []
  for _ in range(population_size):
    chromosome = ""
    for _ in range(chromosome_len):
      chromosome += str(random.randint(0, 1))
    population.append(chromosome)

  return population


def select_parents(population):
  parent1_index = random.randint(0, len(population) - 1)
  parent2_index = random.randint(0, len(population) - 1)

  while parent1_index == parent2_index:
    parent2_index = random.randint(0, len(population) - 1)


  parent1 = population[parent1_index]
  parent2 = population[parent2_index]

  return parent1, parent2


import random

def mutation(chromosome, mutation_rate=0.01):
  chromosome_list = list(chromosome)
  for i in range(len(chromosome_list)):
    if random.random() &lt; mutation_rate:
      if chromosome_list[i] == '0':
        chromosome_list[i] = '1'
      else:
        chromosome_list[i] = '0'

  mutated_chromosome = ''.join(chromosome_list)
  return mutated_chromosome



def crossover(parent1,parent2):
  crs_point=random.randint(1,len(parent1)-1)
  offspring_1=parent1[:crs_point]+parent2[crs_point:]
  offspring_2=parent2[:crs_point]+parent1[crs_point:]
  return offspring_1,offspring_2

def two_point_crossover(parent1,parent2):
  crs_point1=random.randint(1,len(parent1)-2)
  crs_point2=random.randint(crs_point1+1,len(parent1)-1)
  offspring_1=parent1[:crs_point1]+parent2[crs_point1:crs_point2]+parent1[crs_point2:]
  offspring_2=parent2[:crs_point1]+parent1[crs_point1:crs_point2]+parent2[crs_point2:]
  print(f"Randomly choosen point: {crs_point1} and {crs_point2}")

  return offspring_1,offspring_2


<a name="2"></a><font color="#0000FF"><a href="match185-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

def genetic_algorithm(num_courses, num_timeslots, population_size=15, max_generations=100000, mutation_prob=0.01, target_chromosome=None):
  current_population =initial_population(population_size, num_courses * num_timeslots)
</font>  generation_count = 0
  while generation_count &lt; max_generations:
    new_population = []
    for _ in range(population_size // 2):
      parent_a, parent_b = select_parents(current_population)
<a name="1"></a><font color="#00FF00"><a href="match185-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_7.gif"/></a>

      child_a, child_b = crossover(parent_a, parent_b)
      mutated_child_a = mutation(child_a, mutation_prob)
      mutated_child_b = mutation(child_b, mutation_prob)
      new_population.extend([mutated_child_a, mutated_child_b])
    current_population = sorted(new_population, key=lambda x: calculation_fitness(x, num_courses, num_timeslots), reverse=True)[:population_size]
    if target_chromosome and target_chromosome in current_population:
</font>      fitness_value = calculation_fitness(target_chromosome, num_courses, num_timeslots)
      return (target_chromosome, fitness_value)

    generation_count += 1

<a name="0"></a><font color="#FF0000"><a href="match185-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_14.gif"/></a>

  best_individual = max(current_population, key=lambda x: calculation_fitness(x, num_courses, num_timeslots))
  return (best_individual, calculation_fitness(best_individual, num_courses, num_timeslots))




def run_genetic_algorithm():
  input_file = "input_data.txt"
  with open(input_file, "r") as file:
    num_courses, num_timeslots = map(int, file.readline().split())
    course_list = [file.readline().strip() for _ in range(num_courses)]

  print("Part 1: Genetic Algorithm Overview")
  print(f"Total number of courses: {num_courses}")
  print(f"Total number of available timeslots: {num_timeslots}")
  print(f"Courses: {course_list}")

  target_chromosome = '110110010'

  optimal_chromosome, fitness_score = genetic_algorithm(num_courses, num_timeslots, target_chromosome=target_chromosome)

  print("\nOptimal Chromosome Found:", optimal_chromosome)
  print("Fitness Score:", fitness_score)

  # Part 2:
  parent1 = '000111000'
  parent2 = '111000111'
  offspring1, offspring2 = two_point_crossover(parent1, parent2)
</font>  print("\nOffspring after Crossover:")
  print(f"Offspring 1: {offspring1}")
  print(f"Offspring 2: {offspring2}")


run_genetic_algorithm()</pre>
</body>
</html>
