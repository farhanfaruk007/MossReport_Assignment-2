<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/10/22301028_cse422_10_labassignment2_py_-_RAMISA_RAHMAN.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/17/22301668_MD_MASUD_AL_MAHMUD_CSE422_17_Assignment02_Fall2024_-_Tazim.py<p></p><pre>
# -*- coding: utf-8 -*-
"""Untitled35.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/11fSeJqRqasK2vbVqp9vDRZSQXo3xLqXr
"""

#TASK 1

import random
import numpy as np

course=4
slot=4
size=course*slot

def chromosome(n, size):
    cr = []
    for i in range(n):
        cr1= ""
        for j in range(size):
            cr1=cr1+ random.choice("10")
        cr.append(cr1)


    return cr

def selection(ar1, fi):

    tf= sum(fi)
    val1=[]
    for i in range(len(fi)):
        val1.append(fi[i]/tf)
    probabilities = []
    for f in fi:
        probability =f/tf
        probabilities.append(probability)
    li = np.random.choice(len(ar1), size=2, replace=False, p= probabilities)


    return ar1[li[0]], ar1[li[1]]


def fitness_func(arr, slot):
    fitness = []
    for chrm in arr:
        slots1 = []
        for i in range(0, len(chrm), slot):
            partition = chrm[i:i + slot]
<a name="1"></a><font color="#00FF00"><a href="match158-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

            slots1.append(partition)

        overlap = 0
        consistency = 0


        for sl in slots1:
            if sl.count("1") &gt;= 2:
                overlap=overlap+sl.count("1") - 1


        for i in range(len(slots1[0])):

            position=[]
</font>            for s in slots1:
                position.append(s[i] == "1")
            if sum(position) &gt; 1:
                consistency=consistency+sum(position)-1
            elif sum(position) == 0:
                consistency=consistency+1



        fitness.append(-(consistency + overlap))

    return fitness




def cross(x1, x2):
    size =len(str(x1))
    idx = random.randint(0, size - 1)
    c1 = x1[:idx] + x2[idx:]
    c2 = x2[:idx] + x1[idx:]
    return c1, c2



def mutation(x1, x2):
    x=list(x1)
    y= list(x2)

    ix1=random.randint(0, len(x) - 1)
    ix2=random.randint(0, len(y) - 1)


<a name="2"></a><font color="#0000FF"><a href="match158-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

    if x[ix1] == "0":
      x[ix1]="1"
    else:
      x[ix1]="0"

    if y[ix2] == "0":
      y[ix2]="1"
    else:
      y[ix2]="0"



    c1="".join(x)
</font>    c2="".join(y)

<a name="0"></a><font color="#FF0000"><a href="match158-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_9.gif"/></a>

    return c1,c2


def genetic(arr, slot):
    idx=0
    while True:
        fit=fitness_func(arr, slot)
        if 0 in fit:


            temp=fit.index(0)
            return [fit[temp],arr[temp]]

        elif idx&lt;5000:
            x,y= selection(arr,fit)
            c1,c2= cross(x,y)

            c1, c2 = mutation(c1, c2)

            arr.append(c1)
            arr.append(c2)
            idx=idx+1



        else:


            temp=fit.index(min(fit))
            return [fit[temp],arr[temp]]


res=genetic(chromosome(10, size), slot)
</font>print(res)

#TASK 2

import random
import numpy as np

course=4
slot=4
size=course*slot

def chromosome(n, size):
    cr = []
    for i in range(n):
        cr1= ""
        for j in range(size):
            cr1=cr1+ random.choice("10")
        cr.append(cr1)


    return cr

def selection(ar1, fi):

    tf= sum(fi)
    val1=[]
    for i in range(len(fi)):
        val1.append(fi[i]/tf)
    probabilities = []
    for f in fi:
        probability =f/tf
        probabilities.append(probability)
    li = np.random.choice(len(ar1), size=2, replace=False, p= probabilities)


    return ar1[li[0]], ar1[li[1]]


def fitness_func(arr, slot):
    fitness = []
    for chrm in arr:
        slots1 = []
        for i in range(0, len(chrm), slot):
            partition = chrm[i:i + slot]
            slots1.append(partition)

        overlap = 0
        consistency = 0


        for sl in slots1:
            if sl.count("1") &gt;= 2:
                overlap=overlap+sl.count("1") - 1


        for i in range(len(slots1[0])):

            position=[]
            for s in slots1:
                position.append(s[i] == "1")
            if sum(position) &gt; 1:
                consistency=consistency+sum(position)-1
            elif sum(position) == 0:
                consistency=consistency+1



        fitness.append(-(consistency + overlap))

    return fitness



def cross(x,y):

  id1= random.randint(2,((len(x)-1)//2))
  id2= random.randint(len(x)//2,len(x)-2)
  c1= x[:id1] + y[id1:id2] + x[id2:]
  c2= y[:id1] + x[id1:id2] + y[id2:]
  return c1,c2



def mutation(x1, x2):
    x=list(x1)
    y= list(x2)

    ix1=random.randint(0, len(x) - 1)
    ix2=random.randint(0, len(y) - 1)


    if x[ix1] == "0":
      x[ix1]="1"
    else:
      x[ix1]="0"

    if y[ix2] == "0":
      y[ix2]="1"
    else:
      y[ix2]="0"



    c1="".join(x)
    c2="".join(y)

    return c1,c2


def genetic(arr, slot):


    fit=fitness_func(arr, slot)
<a name="3"></a><font color="#00FFFF"><a href="match158-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    x,y= selection(arr,fit)

    c1,c2= cross(x,y)
    c1, c2 = mutation(c1, c2)

    return c1, c2



res=genetic(chromosome(10, size), slot)
</font>print(res)

</pre>
</body>
</html>
