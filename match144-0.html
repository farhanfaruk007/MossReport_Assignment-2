<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/3/21301619_inzamul_kabir_tanvir_cse422_03_lab_assignment02_fall2024_-_INZAMUL_KABIR_TANVIR.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/3/21301619_inzamul_kabir_tanvir_cse422_03_lab_assignment02_fall2024_-_INZAMUL_KABIR_TANVIR.py<p></p><pre>
# -*- coding: utf-8 -*-
"""21301619_Inzamul_Kabir_Tanvir_CSE422_03_Lab_Assignment02_Fall2024.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1Sma9FuaJ5zhZ7owkaonNeq5taVEWhewW
"""

<a name="5"></a><font color="#FF0000"><a href="match144-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

import random
import math


input_file = open("/content/sample_data/input.txt")
output_file = open("/content/sample_data/output.txt", "w")

input_data = input_file.readlines()
Length = input_data[0].strip().split(' ')
</font>Length_time = int(Length[0])
Length_class = int(Length[1])


population = {}
if Length_class &lt;= Length_time:
<a name="6"></a><font color="#00FF00"><a href="match144-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

    for i in range(0, 150):
        chromosome = ''
        for j in range(0, Length_time * Length_class):
            chromosome += str(random.randint(0, 1))
        population[chromosome] = 0
</font>

def overlap_penalty(sequence):
    penalty = 0
    for i in range(0, int(len(sequence) / Length_time)):
        overlap = 0
        for j in range(i, len(sequence), Length_class):
<a name="0"></a><font color="#FF0000"><a href="match144-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

            if sequence[j] == '1':
                overlap += 1
        if overlap &gt; 0:
            penalty += (overlap - 1)
    return penalty


def consistency_penalty(sequence):
    penalty = 0
    for i in range(0, len(sequence), Length_class):
</font>        consistency = 0
        for j in range(i, i + Length_class):
            if sequence[j] == '1':
                consistency += 1
        if consistency &gt; 1:
            penalty += (consistency - 1)
    return penalty

fitness_values = []


<a name="1"></a><font color="#00FF00"><a href="match144-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

def calculate_fitness(sequence):
    fitness_penalty = -(overlap_penalty(sequence) + consistency_penalty(sequence))
    fitness_values.append((sequence, fitness_penalty))
    return fitness_penalty


def perform_crossover(parent_1, parent_2):
    point1 = random.randint(1, len(parent_1) - 2)
    point2 = random.randint(point1 + 1, len(parent_1) - 1)
</font>    offspring_1 = parent_1[:point1] + parent_2[point1:point2] + parent_1[point2:]
    offspring_2 = parent_2[:point1] + parent_1[point1:point2] + parent_2[point2:]
<a name="3"></a><font color="#00FFFF"><a href="match144-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_5.gif"/></a>

    population[offspring_1] = 0
    population[offspring_2] = 0
    return offspring_1, offspring_2


def apply_mutation(sequence):
    sequence_list = list(sequence)
    mutation_point = random.randint(0, len(sequence_list) - 1)
</font>    sequence_list[mutation_point] = str(1 - int(sequence_list[mutation_point]))
    mutated_sequence = ''.join(sequence_list)
    return mutated_sequence


<a name="7"></a><font color="#0000FF"><a href="match144-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

def genetic_algorithm_iteration(parent_1, parent_2, limit):
    child_x, child_y = perform_crossover(parent_1, parent_2)
    if calculate_fitness(child_x) == 0:
        return child_x
    elif calculate_fitness(child_y) == 0:
        return child_y
    else:
</font>        limit -= 1
        if limit == 0:
            return "000000000"
        child_x = apply_mutation(child_x)
        child_y = apply_mutation(child_y)
<a name="2"></a><font color="#0000FF"><a href="match144-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_6.gif"/></a>

        return genetic_algorithm_iteration(child_x, child_y, limit)


random_x = list(population.keys())[random.randint(0, len(population) - 1)]
random_y = list(population.keys())[random.randint(0, len(population) - 1)]
</font>final_result = genetic_algorithm_iteration(random_x, random_y, 1000)


if final_result in ["000000000", "111111111"]:
<a name="4"></a><font color="#FF00FF"><a href="match144-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_5.gif"/></a>

    print('-100', file=output_file)
else:
    print(final_result, file=output_file)
    for seq, fit in fitness_values:
        if seq == final_result:
            print(fit, file=output_file)

input_file.close()
</font>output_file.close()</pre>
</body>
</html>
