<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/7/21201770_amit_kumer_halder_cse422_07_assignment02_fall2024_-_AMIT_KUMER_HALDER.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/7/21201770_amit_kumer_halder_cse422_07_assignment02_fall2024_-_AMIT_KUMER_HALDER.py<p></p><pre>
# -*- coding: utf-8 -*-
"""21201770_Amit Kumer Halder_CSE422_07_Assignment02_Fall2024.py

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1F0M6oMzQO1Ie3fdP5ZADqn2IXt1ILFIH
"""

import random

# Read input from file
with open("/content/input.txt", "r") as file:
    L = file.readline()
    x, t = map(int, L.strip().split())


def C_chr(x, t):
    crom = [0] * (x * t)
    indices = list(range(x * t))
    random.shuffle(indices)
    for i in range(x):
        crom[indices[i]] = 1
    return crom


def cal_fit(crom, x, t):
    overlap_penalty = 0
    c_penalty = 0

    # Calculate overlap penalty
    for i in range(t):
<a name="1"></a><font color="#00FF00"><a href="match62-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_17.gif"/></a>

        row = crom[i * x:(i + 1) * x]
        row_sum = sum(row)
        if row_sum &gt; 1:
            overlap_penalty += (row_sum - 1)

    # Calculate consistency penalty
    crs_count = [0] * x
    for i in range(t):
        row = crom[i * x:(i + 1) * x]
        for j in range(x):
            crs_count[j] += row[j]

    for count in crs_count:
        if count != 1:
            c_penalty += abs(count - 1)

    return -(overlap_penalty + c_penalty)

# Generate an initial chromosome and evaluate fitness
crom = C_chr(x, t)
fit = cal_fit(crom, x, t)

print("Chromosome: ", "".join(map(str, crom)))
print("Fitness of chromosome: ", fit)

P1 = [C_chr(x, t) for _ in range(5000)]
</font>fit_scor = [cal_fit(chromo, x, t) for chromo in P1]

<a name="0"></a><font color="#FF0000"><a href="match62-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_25.gif"/></a>

def slt_p(P1, fit_scor):
    return random.choices(P1, k=2)

# Perform single-point crossover
def s_p_c(pr1, pr2):
    point = random.randint(1, len(pr1) - 1)
    C1 = pr1[:point] + pr2[point:]
    C2 = pr2[:point] + pr1[point:]
    return C1, C2

# Select parents and perform crossover
pr1, pr2 = slt_p(P1, fit_scor)
C1, C2 = s_p_c(pr1, pr2)

print("First parent: ", "".join(map(str, pr1)))
print("Second parent: ", "".join(map(str, pr2)))
print("First child: ", "".join(map(str, C1)))
print("Second child: ", "".join(map(str, C2)))

def ap_mutant(crom, mutation_rate=0.1):
    for i in range(len(crom)):
        if random.random() &lt; mutation_rate:
            crom[i] = 1 - crom[i]  # Flip bit

ap_mutant(C1)
ap_mutant(C2)

print("First mutation: ", "".join(map(str, C1)))
print("Second mutation: ", "".join(map(str, C2)))

def gen_al(x, t, population_size=10, generations=100):
    global P1, fit_scor
</font>
    for G1 in range(generations):
<a name="3"></a><font color="#00FFFF"><a href="match62-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_6.gif"/></a>

        if max(fit_scor) &gt; 0:
            n_p = []
            for _ in range(population_size // 2):
                pr1, pr2 = slt_p(P1, fit_scor)
                offspring1, offspring2 = s_p_c(pr1, pr2)
                ap_mutant(offspring1)
                ap_mutant(offspring2)
                n_p.extend([offspring1, offspring2])
            P1 = n_p
</font>            fit_scor = [cal_fit(chromo, x, t) for chromo in P1]

<a name="5"></a><font color="#FF0000"><a href="match62-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

    b_f = max(fit_scor)
    b_chrom = P1[fit_scor.index(b_f)]
    return b_chrom, b_f


b_chrom, b_f = gen_al(x, t)
print("Best chromosome: ", "".join(map(str, b_chrom)))
print("Fitness of best chromosome: ", b_f)
</font>
<a name="4"></a><font color="#FF00FF"><a href="match62-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_5.gif"/></a>

def T_p_crossover(pr1, pr2):# Perform two-point crossover
    point1, point2 = sorted(random.sample(range(1, len(pr1)), 2))
    C1 = pr1[:point1] + pr2[point1:point2] + pr1[point2:]
</font><a name="2"></a><font color="#0000FF"><a href="match62-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_6.gif"/></a>

    C2 = pr2[:point1] + pr1[point1:point2] + pr2[point2:]
    return C1, C2

# Select parents and perform two-point crossover
pr1, pr2 = slt_p(P1, fit_scor)
C1, C2 = T_p_crossover(pr1, pr2)

print("First parent: ", "".join(map(str, pr1)))
print("Second parent: ", "".join(map(str, pr2)))
print("First offspring: ", ''.join(map(str, C1)))
</font>print("Second offspring: ", "".join(map(str, C2)))</pre>
</body>
</html>
