<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/10/21301071_nuzhatkabir.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/10/21301071_nuzhatkabir.py<p></p><pre>
# -*- coding: utf-8 -*-
"""NuzhatKabir21301071

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1H_uSuPMlGtB8woZYhrOMlf5N2T4qYyHU
"""

from google.colab import drive
drive.mount('/content/drive')
import random
import numpy as np

def initial_chrom(population_size, chromosome_length):
    population=np.random.randint(2, size=(10,9))

    return population
population=initial_chrom(10,9)

def random_selection(population):
    parent1=random.choice(population)
    parent2=random.choice(population)
    #print(parent1,parent2)
    p1=[]
    p2=[]

    for i in parent1:
        p1.append(i)
    #print(p1)
    for i in parent2:
        p2.append(i)
    #print(p2)

    return p1, p2
#p1,p2=random_selection(population)
def single_point_crossover(parent1, parent2):


    index= random.randint(0,len(parent1)-1)

<a name="2"></a><font color="#0000FF"><a href="match188-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

    child1= parent2[:index] + parent1[index:]
    child2= parent1[:index] + parent2[index:]

    return child1, child2


def mutation(offsprings):


    for i in range (len(offsprings)):
</font>        mutate_index=random.randint(0,8)
        offsprings[i][mutate_index]=0

    return(offsprings)
    # print(offsprings)

# mutated=mutation(offsprings)
# print(mutated)
def fitness_check(mutated,course,timeslot):
    list_total_penalty=[]
    for i in range(len(mutated)):

        overlap_penalty=0
        consistency_penalty=0
        total_penalty=0
        schedule_course1=0
        schedule_course2=0
        schedule_course3=0
        for j in range (0,len(mutated[i]),timeslot):

            overlap_penalty+=abs((mutated[i][j]+mutated[i][j+1]+mutated[i][j+2])-1)

            if mutated[i][j]==1:
                schedule_course1+=1
            if mutated[i][j+1]==1:
                schedule_course2+=1
            if mutated[i][j+2]==1:
                schedule_course3+=1
        consistency_penalty= abs((schedule_course1)-1) + abs((schedule_course2)-1) + abs((schedule_course3)-1)
        #print(consistency_penalty)
        #print(overlap_penalty)
        total_penalty+=overlap_penalty
        total_penalty+=consistency_penalty
        list_total_penalty.append(-total_penalty)
    return list_total_penalty



<a name="1"></a><font color="#00FF00"><a href="match188-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_7.gif"/></a>

def genetic_algorithm(population,timeslot,course,chromosome_length):

    offsprings=[]
    for i in range(10):
        p1,p2=random_selection(population)
        offspring1, offspring2=( single_point_crossover(p1, p2))
        offsprings.append(offspring1)
        offsprings.append(offspring2)
    mutated=mutation(offsprings)
    list_total_penalty=(fitness_check(mutated,course,timeslot))
    maximum=max(list_total_penalty)
    best_index=list_total_penalty.index(maximum)
    best_chromosome=mutated[best_index]
    return list_total_penalty, mutated,maximum,best_index,best_chromosome
</font>task2_input=  open( file="/content/CSE422 (2).txt", mode="r")

task2_input_lines= task2_input.readlines()
# print(task2_input_lines)
line1=task2_input_lines[0].strip()
line1=line1.split(" ")
# print(line1)
course=int(line1[0])
timeslot=int(line1[1])
chromosome_length=course*timeslot

population=initial_chrom(10,chromosome_length)
list_total_penalty,new_population,maximum,best_index,best_chromosome= genetic_algorithm(population,timeslot,course,chromosome_length)
best_total_penalty=0
if maximum==best_total_penalty:
    s1=maximum
    s2=best_chromosome
    # print(s)
else:
    for i in range(100):
        new_pop=[]

        for i in range(10):
            best_penalty=max(list_total_penalty)
            idx=list_total_penalty.index(best_penalty)
            new_pop.append(new_population[idx])

            new_population.pop(idx)
            list_total_penalty.pop(idx)
        #print(new_pop)

        # print(new_pop)
        list_total_penalty,new_population,maximum,best_index,best_chromosome= genetic_algorithm(new_pop,timeslot,course,chromosome_length)
        if maximum==best_total_penalty:
            s1=maximum
            s2=best_chromosome
            # print(s)
            break
    s1=maximum
    s2=best_chromosome

    # print(s)
print(s2)
print(s1)

import random
import numpy as np

def initial_chrom(population_size, chromosome_length):
    population=np.random.randint(2, size=(10,9))
#
#population=[[]*population_size]
#     print(population)
#     for i in population:
#         for j in range(chromosome_length):
#             gene=random.randint(0,1)
#             i.append(gene)
    return population
population=initial_chrom(10,9)
# print(population)

def random_selection(population):
    parent1=random.choice(population)
    parent2=random.choice(population)
    #print(parent1,parent2)
    p1=[]
    p2=[]

    for i in parent1:
        p1.append(i)
    # print(p1)
    for i in parent2:
        p2.append(i)
    # print(p2)

<a name="0"></a><font color="#FF0000"><a href="match188-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_8.gif"/></a>

    return p1, p2

def double_point_crossover(parent1, parent2):


    index1= random.randint(1,len(parent1)-5)
    index2=index1+3

    child1= parent1[:index1] + parent2[index1:index2] + parent1[index2:]
    child2= parent2[:index1] + parent1[index1:index2] + parent2[index2:]
    print("Index1:",index1,"Index2:",index2)
    print(child1)
</font>    print(child2)
    return child1, child2

task2_input=  open( file="/content/CSE422 (2).txt", mode="r")

task2_input_lines= task2_input.readlines()
# print(task2_input_lines)
line1=task2_input_lines[0].strip()
line1=line1.split(" ")
# print(line1)
course=int(line1[0])
timeslot=int(line1[1])
chromosome_length=course*timeslot
population=initial_chrom(10,chromosome_length)
def genetic_algorithm(population,timeslot,course,chromosome_length):

    offsprings=[]
    p1,p2=random_selection(population)
    offspring1, offspring2=( double_point_crossover(p1, p2))

genetic_algorithm(population,timeslot,course,chromosome_length)</pre>
</body>
</html>
