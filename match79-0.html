<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/4/21201787_4_tamim_-_RIFAT_MAHMUD_TAMIM.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/4/21201787_4_tamim_-_RIFAT_MAHMUD_TAMIM.py<p></p><pre>
# -*- coding: utf-8 -*-
"""21201787_4_Tamim.ipynb

Automatically generated by Colab.

Original file is located at
<a name="0"></a><font color="#FF0000"><a href="match79-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_47.gif"/></a>

    https://colab.research.google.com/drive/1qG6Qd0WaopkYna5GTcEaOVg5PMRj3cPr
"""

import random

def fitness_cal(chromo, num, time):
  overlapping = 0
  consistancy = 0
  fit = 0
  sch = []
  for i in range(time):
    starting = i * num
    ending = starting+ num
    slot = chromo[starting:ending]
    sch.append(slot)
  for i in sch:
    count = 0
    for j in i:
      count += 1
    if count &gt; 1:
      overlapping += (count - 1)
  for i in range(num):
    count = 0
    for j in range(time):
      count += sch[j][i]
    if count != 1:
      consistancy += abs(count - 1)
  fit= -(overlapping + consistancy)
  return fit

def single_selection(numb, v):
  par1, par2 = random.sample(numb, 2)
  return par1, par2

def populations(x, num, time):
  numb = []
  for i in range(x):
    length = num * time
    chromo = [0] * length
    for j in range(num):
      slot = random.randint(0, time - 1)
      index = slot * num + j
      chromo[index] = 1
    numb.append(chromo)
  return numb

def single_crossover(par1, par2):
    cut = random.randint(1, len(par1) - 1)
    children1 = par1[:cut] + par2[cut:]
</font>    children2 = par2[:cut] + par1[cut:]
    return children1, children2

def mutatated(chromo, mutation_rate):
  for i in range(len(chromo)):
    if random.random() &lt; mutation_rate:
      chromo[i] = 1 - chromo[i]
<a name="1"></a><font color="#00FF00"><a href="match79-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_33.gif"/></a>

  return chromo

def genetic_algo( courses,num, time, x=10, y=10, mutation_rate=0.1):
  numb = populations(x, num, time)

  for i in range(y):
    value = []
    for j in numb:
      value.append(fitness_cal(j, num, time))

      sol = max(value)
      if sol == 0:
        break

      new = []
      while len(new) &lt; x:
        par1, par2 = single_selection(numb, value)
        children1, children2 = single_crossover(par1, par2)
        mut1 = mutatated(children1, mutation_rate)
        mut2 = mutatated(children2, mutation_rate)
        new.extend([mut1, mut2])

      numb = new[:x]
  output = max(value)
  chromosome = numb[value.index(output)]
  return chromosome, output

N = int(input("courses: "))
T = int(input("timeslots: "))
courses = []
for i in range(N):
  subs = input("Enter course name:")
  courses.append(subs)
chromosome, fit = genetic_algo(courses, N, T)
print("Chromosome:", chromosome)
</font>print("Fitness:", fit)</pre>
</body>
</html>
