<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/16/24141162_cse422_16_labassignment2_-_MD._ABRAR_AHSAN_PURNO.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/16/24241344_CSE422_16_LabAssignment2_-_MD._SAMEER_SAKIB.py<p></p><pre>
# -*- coding: utf-8 -*-
"""CSE422_Assignment 2.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1cc2-MNBc96RoYJAs75Z8imK_X8Dd4PtV
"""

import random

inp = open("input_1.txt", "r")
lines = inp.readlines()
nm = lines[0].split()
n = int(nm[0])
m = int(nm[1])
courses = [lines[i].strip() for i in range(1,len(lines))]

<a name="2"></a><font color="#0000FF"><a href="match214-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

def timeslotmaker(chromo, n, m):
  slots = []
  for i in range(m):
    slots.append(chromo[i*n:(i+1)*n])
</font>  return slots

def calc_fitness(chromo, n, m):
    timeslots = timeslotmaker(chromo, n, m)
    consistency = 0
    course_count = [0] * n
    overlap = 0
<a name="0"></a><font color="#FF0000"><a href="match214-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_12.gif"/></a>

    for slot in timeslots:
        courses_in_slot = sum(slot)
        if courses_in_slot &gt; 1:
            overlap += courses_in_slot - 1
        for i, scheduled in enumerate(slot):
            if scheduled:
                course_count[i] += 1
    for count in course_count:
        if count != 1:
            consistency += abs(count - 1)
    total = overlap + consistency
    return -total


def genetic_algo(n, m, max_generations=100):
    population = makepopulation(n, m)
</font>    best_fit = float('-inf')
    best_chromo = ''
    for _ in range(max_generations):
        fitness_scores = [calc_fitness(chromo, n, m) for chromo in population]
<a name="1"></a><font color="#00FF00"><a href="match214-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

        for i, fit in enumerate(fitness_scores):
            if fit &gt; best_fit:
                best_fit = fit
                best_chromo = population[i]
        new_population = []
        while len(new_population) &lt; len(population):
            parent1, parent2 = random.sample(population, 2)
</font>            cross_point = random.randint(1, len(parent1) - 1)
            child1 = parent1[:cross_point] + parent2[cross_point:]
            child2 = parent2[:cross_point] + parent1[cross_point:]
            new_population.extend([mutation(child1), mutation(child2)])
        population = new_population
    return best_chromo, best_fit

def mutation(chromo, mutation_rate=0.01):
    mutated_chromo = []
    for gene in chromo:
        random_value = random.random()
        if random_value &gt; mutation_rate:
            mutated_chromo.append(gene)
        else:
            mutated_chromo.append(1 - gene)
    return mutated_chromo

def makepopulation(n, m, population_size=10):
    chromo_length = n * m
    population = []
    for i in range(population_size):
        chromo = []
        for j in range(chromo_length):
            gene = random.randint(0, 1)
            chromo.append(gene)
        population.append(chromo)
    return population

optimal_chromo, optimal_fitness = genetic_algo(n, m)

print("Optimal Chromosome:", "".join(map(str, optimal_chromo)))
print("Optimal Fitness:", optimal_fitness)

import random

def crossover(parent1, parent2):
    p1 = random.randint(1, len(parent1) - 2)
    p2 = random.randint(p1 + 1, len(parent1) - 1)
    child1 = parent1[:p1] + parent2[p1:p2] + parent1[p2:]
    child2 = parent2[:p1] + parent1[p1:p2] + parent2[p2:]
    return child1, child2, p1, p2
population = makepopulation(n, m)
parent1, parent2 = random.sample(population, 2)
child1, child2, p1, p2 = crossover(parent1, parent2)

print("1st Parent:", "".join(map(str, parent1)))
print("2nd Parent:", "".join(map(str, parent2)))
print("crossover points: ", p1, p2)
print("1st Child:", "".join(map(str, child1)))
print("2nd Child:", "".join(map(str, child2)))</pre>
</body>
</html>
