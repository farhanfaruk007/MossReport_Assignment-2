<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/1/21201514_IlhanBinAhsan_CSE422_01_Assignment02_Fall2024_-_ILHAN_BIN_AHSAN.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/1/21201514_IlhanBinAhsan_CSE422_01_Assignment02_Fall2024_-_ILHAN_BIN_AHSAN.py<p></p><pre>
# -*- coding: utf-8 -*-
"""21201514_ILHANBINAHSAN_CSE422_01_Assignment02_Fall2024.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1fpLY7tMZTImI9XAV-i-CyXtQPLZU8BQh
"""

#Part 1

import random

with open('input1.txt', 'r') as file:

    data = file.readlines()

N, T = map(int, data[0].split())

noC = [line.strip() for line in data[1:]]

assert T &gt;= N

<a name="1"></a><font color="#00FF00"><a href="match53-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_11.gif"/></a>

chromosome_length = N * T

def fitness(chromosome):

    penaltyForOverlapping = 0

    penaltyForConsistency = 0


    timeslotParts = [chromosome[i*N:(i+1)*N] for i in range(T)]

    for parts in timeslotParts:

        penaltyForOverlapping += max(0, sum(parts) - 1)

    numberOfCourses = [0] * N

    for parts in timeslotParts:

        for i in range(N):

            if parts[i] == 1:

                numberOfCourses[i] += 1

    penaltyForConsistency += sum(abs(count - 1) for count in numberOfCourses)
</font>
    total_penalty = penaltyForOverlapping + penaltyForConsistency

    resultantFitness=(-1)*total_penalty

<a name="2"></a><font color="#0000FF"><a href="match53-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_10.gif"/></a>

    return resultantFitness



def initPopCre(lengthOfPopulation):

    population = []

    for p in range(lengthOfPopulation):

        chromosome = [0] * chromosome_length

        for i in range(N):

            timeslot = random.randint(0, T-1)

            chromosome[timeslot * N + i] = 1

        population.append(chromosome)

    return population





def tounamentSelection(population, fitnesses):

    parents = []

    for _ in range(2):

        sel = random.sample(list(zip(population, fitnesses)), 3)

        parents.append(max(sel, key=lambda x: x[1])[0])
</font>
<a name="0"></a><font color="#FF0000"><a href="match53-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_25.gif"/></a>

    return parents





def crossover(firPar, secPar):

    sinPoiCro = random.randint(1, chromosome_length - 1)

    firChi = firPar[:sinPoiCro] + secPar[sinPoiCro:]

    secChi = secPar[:sinPoiCro] + firPar[sinPoiCro:]

    return firChi, secChi



def mutate(chromosome, mR):

    for i in range(chromosome_length):

        if random.random() &lt; mR:

            chromosome[i] = 1 - chromosome[i]



def gA(lengthOfPopulation, mR, highGen):

    population = initPopCre(lengthOfPopulation)

    highFit = float('-inf')

    highFitChr = None



    for generation in range(highGen):

        fitnesses = [fitness(fit) for fit in population]

        new_population = []



        for a in range(lengthOfPopulation // 2):

            firPar, secPar = tounamentSelection(population, fitnesses)

            firChi, secChi = crossover(firPar, secPar)

            mutate(firChi, mR)

            mutate(secChi, mR)

            new_population.extend([firChi, secChi])



        population = new_population

        fitnesses = [fitness(chrom) for chrom in population]

        currentFitness = max(fitnesses)

        currentChromosome = population[fitnesses.index(currentFitness)]



        if currentFitness &gt; highFit:

            highFit = currentFitness

            highFitChr = currentChromosome



    return highFitChr, highFit



lengthOfPopulation = 100

mR = 0.01

highGen = 1000



chrForHighFit, highFit = gA(lengthOfPopulation, mR, highGen)
</font>
with open('output1.txt', 'w') as file:

    file.write(''.join(map(str, chrForHighFit)) + '\n')

    file.write(str(highFit) + '\n')

#Part 2

import random

def initPopCre(lengthOfPopulation, chromosome_length):

    population = []

<a name="3"></a><font color="#00FFFF"><a href="match53-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

    for h in range(lengthOfPopulation):

        chromosome = [random.randint(0, 1) for k in range(chromosome_length)]

        population.append(chromosome)

    return population



def two_sinPoiCro_crossover(firPar, secPar):

    length = len(firPar)

    sinPoiCro1 = random.randint(1, length - 2)

    sinPoiCro2 = random.randint(sinPoiCro1 + 1, length - 1)
</font>


    firOff = firPar[:sinPoiCro1] + secPar[sinPoiCro1:sinPoiCro2] + firPar[sinPoiCro2:]

    secOff = secPar[:sinPoiCro1] + firPar[sinPoiCro1:sinPoiCro2] + secPar[sinPoiCro2:]



    return firOff, secOff



def input(filename):

    with open(filename, 'r') as file:

        lines = file.readlines()

    N = int(lines[0].split()[0])

    T = int(lines[0].split()[1])

    noC = [line.strip() for line in lines[1:]]

    return N, T, noC



def output(filename, firPar, secPar, firOff, secOff):

    with open(filename, 'w') as file:

        file.write("Parent 1: " + ''.join(map(str, firPar)) + "\n")

        file.write("Parent 2: " + ''.join(map(str, secPar)) + "\n")

        file.write("So the two resultant offsprings are, " + ''.join(map(str, firOff)) + " &amp; " + ''.join(map(str, secOff)))



def main():

    ques = "input1.txt"

    sol = "output1.txt"



    N, T, noC = input(ques)

<a name="4"></a><font color="#FF00FF"><a href="match53-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

    chromosome_length = N * T

    lengthOfPopulation = 10



    population = initPopCre(lengthOfPopulation, chromosome_length)



    firPar, secPar = random.sample(population, 2)



    firOff, secOff = two_sinPoiCro_crossover(firPar, secPar)
</font>


    output(filename=sol, firPar=firPar, secPar=secPar, firOff=firOff, secOff=secOff)



if __name__ == "__main__":

    main()</pre>
</body>
</html>
