<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/11/22101829_farizaislam_cse422_11_lab_assignment2_-_FARIZA_ISLAM_HRIDI.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/14/22101738_cse422_14_lab_02_-_TONMOY_JOY.py<p></p><pre>
# -*- coding: utf-8 -*-
"""22101738_CSE422_14_Lab_02.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1wbEm-JKsH0ZLRVxmGPIVLC8NRW98T5YQ
"""

from google.colab import drive
drive.mount('/content/drive')

import random
<a name="0"></a><font color="#FF0000"><a href="match56-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_81.gif"/></a>

from random import randint

def fitness_calc(chromosome, courses):
    fitness = 0
    overlap_penalty = 0
    consistency_penalty = 0
    t = ''
    n = len(courses)
    course_counts = [0] * n
    for i in range(0, len(chromosome), n):
        sum = 0
        t = (chromosome[i:i+n])
        if int(t) != 0:
            for j in t:
                sum += int(j)
            sum -= 1
        overlap_penalty += sum

        for j in range(n):
            course_counts[j] += int(t[j])

    for count in course_counts:
        c = abs(count - 1)
        consistency_penalty += c

    fitness = -(overlap_penalty + consistency_penalty)
    return fitness

def pop_create(length):
    limit = 100
    populationli = []
    for i in range(limit):
        s = ''
        for i in range(length):
            s += str(randint(0, 1))
        populationli.append(s)
    return populationli

def parent_select(population):
    p1_idx = randint(0, len(population) - 1)
    p2_idx = randint(0, len(population) - 1)
    while p2_idx == p1_idx:
        p2_idx = randint(0, len(population) - 1)
    parent1 = population[p1_idx]
    parent2 = population[p2_idx]
    return [parent1, parent2], p1_idx, p2_idx

def crossfunction(parent1, parent2):
    crossover_point = randint(1, len(parent1) - 2)
    child1 = parent1[:crossover_point] + parent2[crossover_point:]
    child2 = parent2[:crossover_point] + parent1[crossover_point:]
    return [child1, child2]

def mutate(ind):
    mutation_index = randint(0, len(ind) - 1)
    ind = list(ind)
    ind[mutation_index] = str(1 - int(ind[mutation_index]))
    return ''.join(ind)

def gen_algo(n, t, courses):
    length = n * t
    population = pop_create(length)
    best_fitness = float("-inf")
    best_chromosome = None
    gen_limit = 500

    for gen in range(gen_limit):
        fitnesses = [fitness_calc(s, courses) for s in population]

        for i in range(len(population)):
            if fitnesses[i] == 0:
                best_fitness = 0
                best_chromosome = population[i]
                break

        parents, p1_idx, p2_idx = parent_select(population)
        crossover = crossfunction(parents[0], parents[1])
        population[p1_idx] = mutate(crossover[0])
        population[p2_idx] = mutate(crossover[1])

        fitnesses = [fitness_calc(s, courses) for s in population]
        for i in range(len(fitnesses)):
            if fitnesses[i] &gt; best_fitness:
                best_fitness = fitnesses[i]
                best_chromosome = population[i]

    return best_chromosome, best_fitness
</font>

input1 = open('/content/drive/MyDrive/9th Semester/Cse422/Lab 422/Lab2/422_inputfile.txt', 'r')
n, t = list(map(int, input1.readline().split()))

courses = []
for i in range(n):
    courses.append(input1.readline())
length = n * t

ans, best_fitness = gen_algo(n, t, courses)

print("Best Chromosome:", ans)
print("Best Fitness:", best_fitness)

</pre>
</body>
</html>
