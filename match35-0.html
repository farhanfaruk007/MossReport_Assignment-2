<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/5/21101046_lab2_sec5_-_SHOUMIK_DAS.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/5/21101046_lab2_sec5_-_SHOUMIK_DAS.py<p></p><pre>
# -*- coding: utf-8 -*-
"""21101046_Lab2_Sec5.ipynb

Automatically generated by Colab.

Original file is located at
<a name="0"></a><font color="#FF0000"><a href="match35-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_59.gif"/></a>

    https://colab.research.google.com/drive/1JxP1HXvOFdm7qUbAV1Bs2riLm_WRYLtG
"""

import numpy as np
import random

def fitness(all, n, t):
    fitness_scores = []
    for chromosome in all:
        o_penalty = 0
        c_penalty = 0

        for time in range(t):
            course_sche = sum(chromosome[time*n : (time+1)*n])
            if course_sche &gt; 1:
                o_penalty += course_sche - 1 # Add penalty if more than one course is scheduled

        for cours in range(n):
            times_scheduled = sum(chromosome[cours::n])
            c_penalty += abs(times_scheduled - 1)
        fitness_score = -(o_penalty + c_penalty)
        fitness_scores.append(fitness_score)
    return np.array(fitness_scores)

def selection(all, fit):
    t_fitness = sum(fit)
    probability = [f / t_fitness for f in fit] # Probability of selection proportional to fitness
    return all[np.random.choice(len(all), size=1, p=probability)[0]]

def crosses(x, y):
    n = len(x)
    p1 = random.randint(0, n-2)
    p2 = random.randint(p1+1, n-1)
    chi1 = np.concatenate((x[:p1], y[p1:p2], x[p2:]))
    chi2 = np.concatenate((y[:p1], x[p1:p2], y[p2:]))
    return chi1, chi2

def mutation(child, mut_rate):
    for i in range(len(child)):
        if random.random() &lt; mut_rate:
            child[i] = 1 - child[i]
    return child

def var(all, n, t, mutation_threshold=0.3, gen=1000):

    for generation in range(gen):
        fit = fitness(all, n, t)
        new_all = []

        for _ in range(len(all) // 2):
            parent1 = selection(all, fit)
            parent2 = selection(all, fit)
            chi1, chi2 = crosses(parent1, parent2)
# Mutate the children with a probability threshold
            if random.random() &lt; mutation_threshold:
                chi1 = mutation(chi1, 0.01)
            if random.random() &lt; mutation_threshold:
                chi2 = mutation(chi2, 0.01)
            new_all.extend([chi1, chi2])
        all = np.array(new_all)
         # Evaluate the final population and find the best chromosome
    fit = fitness(all, n, t)
    best_index = np.argmax(fit) # Find the index of the chromosome with the best fitness
    best_chromosome = all[best_index]
    best_fitness = fit[best_index]
    print(''.join(map(str, best_chromosome)))
</font>    print(best_fitness)

<a name="2"></a><font color="#0000FF"><a href="match35-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_6.gif"/></a>

n, t = map(int, input().split())
course_codes = [input().strip() for _ in range(n)] # Read course codes (not used in the logic)
all_size = 100
all = np.random.randint(2, size=(all_size, n*t))
var(all, n, t)
</font>
import random


<a name="3"></a><font color="#00FFFF"><a href="match35-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_6.gif"/></a>

def gen_chromo(n, t):
    return [random.randint(0, 1) for _ in range(n * t)]


def cross(parent1, parent2):
    contain = len(parent1)
    # Randomly choose two points such that p1 &lt; p2
    p1 = random.randint(1, contain - 2)
    p2 = random.randint(p1 + 1, contain - 1)
</font>
    # Generate two offspring by swapping segments between parents
    c1 = parent1[:p1] + parent2[p1:p2] + parent1[p2:]
    c2 = parent2[:p1] + parent1[p1:p2] + parent2[p2:]

    print(f"1st point: between index {p1 - 1} and index {p1}")
    print(f"2nd point: between index {p2 - 1} and index {p2}")

    return c1, c2


n, t = map(int, input().split())
for _ in range(n):
    input()

all_size = 10
<a name="1"></a><font color="#00FF00"><a href="match35-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

all = [gen_chromo(n, t) for _ in range(all_size)]
par1 = random.choice(all)
par2 = random.choice(all)
offs1, offs2 = cross(par1, par2)

print("Parent 1:    ", ''.join(map(str, par1)))
print("Parent 2:    ", ''.join(map(str, par2)))
</font>print("Offspring 1: ", ''.join(map(str, offs1)))
print("Offspring 2: ", ''.join(map(str, offs2)))</pre>
</body>
</html>
