<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/1/22301552_maliha_binte_mohsin_moumita_cse422_01_assignment02_fall2024_-_MALIHA_BINTE_MOHSIN_MOUMITA.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/1/22301552_maliha_binte_mohsin_moumita_cse422_01_assignment02_fall2024_-_MALIHA_BINTE_MOHSIN_MOUMITA.py<p></p><pre>
# -*- coding: utf-8 -*-
"""22301552_Maliha_Binte_Mohsin_Moumita_CSE422_01_Assignment02_Fall2024

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1YrIJBxqxNwwP8msPqhAMANzSW-IVd_Ec
"""

#Part1
from random import randint
from random import shuffle

from heapq import *


<a name="5"></a><font color="#FF0000"><a href="match15-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

def show_fitness(array, n, t):
    L = len(array)

    list1 = []

    for i in range(L):
        list1.append([array[i], fitness_func(array[i], n, t)])

    print(list1)
</font>

<a name="6"></a><font color="#00FF00"><a href="match15-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

def input_file(file):
    f = open(file, 'r')

    data = f.readlines()
    f.close()

    n, t = data[0].split(" ")
    n, t = int(n), int(t)

</font><a name="2"></a><font color="#0000FF"><a href="match15-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_12.gif"/></a>

    return n, t


def swap_elements(array):
    temp = array[:]
    for elem in temp:
        elem[0], elem[1] = elem[1], elem[0]

    return temp


def o_pen(chrsm, n):
    L = len(chrsm)
    number_of_errors = 0

    begin = 0
    for i in range(n, L + 1, n):
        count = 0

        temp = chrsm[begin:i]
        for j in temp:
            if j == "1":
                count += 1

        if count == 1:
            count = 0 # no error #
        elif count &gt; 1:
            count -= 1  # subtracting correctly placed 1s #

        number_of_errors += count

        #debug code
        # print(temp, count, number_of_errors)

        begin += n

    return number_of_errors


def abs(a, b):
</font>    if a &gt; b:
        return a-b
    else:
        return b-a

def consistency_pen(chrsm, t):
<a name="3"></a><font color="#00FFFF"><a href="match15-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_9.gif"/></a>

    L = len(chrsm)
    subjects = {}


    for k in range(t):
        subjects[k] = 0

    begin = 0
    for i in range(t, L + 1, t):
        temp = chrsm[begin:i]

        for k in subjects:
            if temp[k] == "1":
                subjects[k] += 1

        begin += t


    number_of_errors = 0
    for k in subjects:
        number_of_errors += abs(subjects[k], 1)


    return number_of_errors


def fitness_func(chrsm, n, t):
</font><a name="0"></a><font color="#FF0000"><a href="match15-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_27.gif"/></a>

    return -1 * (o_pen(chrsm, n) + consistency_pen(chrsm, t))


def mut_func(chrsm):
    L = len(chrsm)

    index = randint(0, L - 1)

    replace_with = randint(0, 1)

    new_string = chrsm[:index] + str(replace_with) + chrsm[index + 1:]

    return new_string

def s_p_crossover(chrsmA, chrsmB):
    L = len(chrsmA)
    lastIndex = L - 1

    division = randint(1, lastIndex - 1)

    new_chrmsm_A = chrsmA[:division] + chrsmB[division:]
    new_chrmsm_B = chrsmB[:division] + chrsmA[division:]

    return new_chrmsm_A, new_chrmsm_B


def sample_space_generator(L, size):
    array = []
    for i in range(size):
        tempchrsm = ""
        for j in range(L):
            tempchrsm += str(randint(0, 1))
        array.append(tempchrsm)

    return array


def helper_function(sample_space, n, t):
    temp_array = sample_space[:]
    finalList = sample_space[:]

    shuffle(temp_array)
    children = []

    for i in range(0, 10, 2):
        childA, childB = s_p_crossover(temp_array[i], temp_array[i + 1])
        childA, childB = mut_func(temp_array[i]), mut_func(temp_array[i + 1])

        children += [childA, childB]

    labRat = finalList + children

    queue = []
    for i in labRat:
        heappush(queue, [fitness_func(i, n, t), i])

    return queue

def genetic_algorithm(n, t):

    fitness = -100

    sample_space = sample_space_generator(n * t, 10)
</font>    print("this is the randomly generated sample_space and their corresponding fitness")

<a name="4"></a><font color="#FF00FF"><a href="match15-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_7.gif"/></a>

    show_fitness(sample_space, n, t)
    print()

    iter = 0

    while fitness != 0:
        queue = helper_function(sample_space, n, t)
        fitness = nlargest(1, queue)[0][0]
        new = []
        temp = nlargest(10, queue)

        for i in temp:
            if i[1] not in new:
                new.append(i[1])

        sample_space += new

        iter += 1

        if iter &gt; 1200000:
</font>            break

        final_answer = nlargest(10, queue)
    print(swap_elements(final_answer))

    print("solution =", final_answer[0][0])

    return final_answer[0][0]


n, t = input_file("input.txt")
genetic_algorithm(n, t)

#Part2
from random import randint
from random import shuffle

from heapq import *

def input_file(file):
    f = open(file, 'r')

    data = f.readlines()
    f.close()

    n, t = data[0].split(" ")
    n, t = int(n), int(t)

    return n, t


def generate_sample_space(L, S):
<a name="1"></a><font color="#00FF00"><a href="match15-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_13.gif"/></a>

    a = []
    for i in range(S):
        temp_c = ""
        for j in range(L):
            temp_c += str(randint(0, 1))
        a.append(temp_c)

    return a


def tp_crossover(chrmsm_a, chrmsm_b):
    L = len(chrmsm_a)
    lastIndex = L - 1

    f_div = randint(1, lastIndex - 2)
    s_div = randint(f_div + 1, lastIndex - 1)

    new_a = chrmsm_a[:f_div] + chrmsm_b[f_div:s_div] + chrmsm_a[s_div:]
    new_b = chrmsm_b[:f_div] + chrmsm_a[f_div:s_div] + chrmsm_b[s_div:]


    return new_a, new_b


n, t = input_file("input.txt")

array = generate_sample_space(n*t, 2)
print("parents:")
</font>for i in array:
    print(i)


results = tp_crossover(array[0], array[1])
print("after crossover, the children are")
for i in results:
    print(i)</pre>
</body>
</html>
