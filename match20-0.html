<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/9/21201480_hasan_mahmud_21201480_-_Hasan_Mahmud(1).py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/9/21201480_hasan_mahmud_21201480_-_Hasan_Mahmud(1).py<p></p><pre>
# -*- coding: utf-8 -*-
<a name="0"></a><font color="#FF0000"><a href="match20-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_90.gif"/></a>

"""Hasan Mahmud_21201480.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1zA8qRkO6RmEJ1DdFt0q8vnQUCPa9De6h
"""

# given instuction in class
# select 2 parents randomly
# create 2 child
# perform crossover
# perform mutation
# check if it satisfies the goal

# if not,
# you need to utilize the children as well
# you will create another population pool and append those children's also

# i mean if children's doesn't satisfy the goal , then you will add children's population pool .

#Task 1

import random

def fitness(chromosome, n, t):
    timeslots = [chromosome[i * n:(i + 1) * n] for i in range(t)]
    overlap_penalty = 0
    consistency_penalty = 0
    for slot in timeslots:
        overlap_penalty += max(0, sum(slot) - 1)
    course_schedule_count = [0] * n

    for slot in timeslots:
        for i in range(n):
            course_schedule_count[i] += slot[i]

    for count in course_schedule_count:
        consistency_penalty += abs(count - 1)
    return -(overlap_penalty + consistency_penalty)

def single_point_crossover(parent1, parent2):
    crossover_point = random.randint(1, len(parent1) - 2)
    return parent1[:crossover_point] + parent2[crossover_point:], parent2[:crossover_point] + parent1[crossover_point:]

def mutate(chromosome, mutation_rate):
    for i in range(len(chromosome)):
        if random.random() &lt; mutation_rate:
            chromosome[i] = 1 - chromosome[i]
    return chromosome

def initialize_population(pop_size, n, t):
    population = []
    for _ in range(pop_size):
        chromosome = [random.randint(0, 1) for _ in range(n * t)]
        while not is_valid_chromosome(chromosome, n, t):
            chromosome = [random.randint(0, 1) for _ in range(n * t)]
        population.append(chromosome)
    return population

def is_valid_chromosome(chromosome, n, t):
    timeslots = [chromosome[i * n:(i + 1) * n] for i in range(t)]
    course_schedule_count = [0] * n
    for slot in timeslots:
        for i in range(n):
            course_schedule_count[i] += slot[i]
    return all(count == 1 for count in course_schedule_count)

def satisfies_goal(chromosome, n, t):
    return fitness(chromosome, n, t) == -6

def genetic_algorithm(n, t, courses, max_generations=100, pop_size=20, mutation_rate=0.01):
    random.seed(42)
    population = initialize_population(pop_size, n, t)
    best_chromosome = None
    best_fitness = float('-inf')

    for generation in range(max_generations):
        fitness_scores = [fitness(chromosome, n, t) for chromosome in population]
        max_fit_idx = fitness_scores.index(max(fitness_scores))

        if fitness_scores[max_fit_idx] &gt; best_fitness:
            best_fitness = fitness_scores[max_fit_idx]
            best_chromosome = population[max_fit_idx]

        parent1, parent2 = random.sample(population, 2)
        child1, child2 = single_point_crossover(parent1, parent2)
        child1 = mutate(child1, mutation_rate)
        child2 = mutate(child2, mutation_rate)

        if satisfies_goal(child1, n, t):
            return child1, -6

        if satisfies_goal(child2, n, t):
            return child2, -6
        population.append(child1)
        population.append(child2)

        if len(population) &gt; pop_size:
            population = sorted(population, key=lambda x: fitness(x, n, t), reverse=True)[:pop_size]

    return best_chromosome, best_fitness

n, t = map(int, input().split())
courses = [input().strip() for _ in range(n)]
best_chromosome, best_fitness = genetic_algorithm(n, t, courses)

print("".join(map(str, best_chromosome)))
print(best_fitness)

#Task 2

import random
parent1 = "000111000"
parent2 = "111000111"

parent1 = list(parent1)
parent2 = list(parent2)

chromosome_length = len(parent1)
point1 = random.randint(1, chromosome_length - 2)
point2 = random.randint(point1 + 1, chromosome_length - 1)
</font>
offspring1 = parent1[:point1] + parent2[point1:point2] + parent1[point2:]
<a name="1"></a><font color="#00FF00"><a href="match20-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

offspring2 = parent2[:point1] + parent1[point1:point2] + parent2[point2:]

print(f"Parent 1: {''.join(parent1)}")
print(f"Parent 2: {''.join(parent2)}")
print(f"Chosen points: {point1}, {point2}")
print(f"Offspring 1: {''.join(offspring1)}")
</font>print(f"Offspring 2: {''.join(offspring2)}")</pre>
</body>
</html>
