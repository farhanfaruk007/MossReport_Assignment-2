<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/2/24141157_lab2_sec2_-_RAIYAN_AHMED.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/10/21201055_sec_10_Tousif_-_KHAN_TOUSIF_HOSSEN.py<p></p><pre>
# -*- coding: utf-8 -*-
"""lab2.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1IrwClfjiC2BA_Zc7jrBt1DxeWrFGo7TQ
"""

import random

def gen_pop(pop_size, chrom_len):
<a name="0"></a><font color="#FF0000"><a href="match224-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_15.gif"/></a>

    population = []
    for i in range(pop_size):
        chrom = ""
        for i in range(chrom_len):
            chrom += random.choice("01")

        population.append(chrom)

    return population

def fitness(chrom, N, T):
    overlap_penalty = 0
    p_consistency = 0

    for i in range(0, len(chrom), N):
        time_slot = chrom[i:i+N]
        one_count = time_slot.count("1")
        if one_count &gt; 0:
            overlap_penalty += one_count - 1

    for j in range(N):
        course_freq = chrom[j:len(chrom):N]
</font>        one_count = course_freq.count("1")
        p_consistency += abs(one_count - 1)

    total_penalty = (overlap_penalty + p_consistency) * -1
    return total_penalty

def crossover(p_1, p_2):

    breaking_point = random.randint(0, len(p_1)-1)
    c_1 = p_1[0:breaking_point] + p_2[breaking_point:]
    c_2 = p_2[0:breaking_point] + p_1[breaking_point:]

    return c_1, c_2

def mutation(chrom):

    choose = str(random.randint(0,1))
    rand_point = random.randint(0, len(chrom)-1)
    new_chrom = chrom[0:rand_point] + choose + chrom[rand_point+1:]

    return new_chrom



def genetic_algorithm(N, T, pop_size=10):
    chrom_len = N * T
    # print(chrom_len)
    population = gen_pop(pop_size, chrom_len)
    # print(population)

    for i in range(1000):
        # print(population)
        parents_list = random.sample(population, 3)

        for j in range(len(parents_list)):
            for k in range(j+1, len(parents_list)):
                p_1 = parents_list[j]
                p_2 = parents_list[k]
                c_1, c_2 = crossover(p_1, p_2)

                c_1 = mutation(c_1)
                c_2 = mutation(c_2)

                c_1_fit = fitness(c_1, N, T)
                c_2_fit = fitness(c_2, N, T)

                if c_1_fit == 0:
                    return c_1, c_1_fit

                if c_2_fit == 0:
                    return c_2, c_2_fit


                population.append(c_1)
                population.append(c_2)

                new_pop = sorted(population, key = lambda x: fitness(x, N, T))
                # print(new_pop)
                population = new_pop[2:]

    fit = population[-1]
<a name="1"></a><font color="#00FF00"><a href="match224-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

    return fit, fitness(fit, N, T)


def gen():
    N = int(input("Please enter value of N:"))
    T = int(input("Please enter value of T:"))
    course_codes = []


    for i in range(N):
        cc = input("Please enter course code: ")
        course_codes.append(cc)
</font>
    # print(course_codes)

    print(genetic_algorithm(N, T))







a = gen()

def gen_pop(pop_size, chrom_len):
    population = []
    for i in range(pop_size):
        chrom = ""
        for i in range(chrom_len):
            chrom += random.choice("01")

        population.append(chrom)

    return population


def dp_crossover(p_1, p_2):

    first_bpoint = random.randint(1, len(p_1)-2)
    sec_bpoint = random.randint(1, len(p_1)-2)

    if sec_bpoint &lt; first_bpoint:

        first_bpoint, sec_bpoint = sec_bpoint, first_bpoint


    c_1 = p_1[0:first_bpoint] + p_2[first_bpoint:sec_bpoint] + p_1[sec_bpoint:]
    c_2 = p_2[0:first_bpoint] + p_1[first_bpoint:sec_bpoint] + p_2[sec_bpoint:]


    return c_1, c_2


population = gen_pop(2, 9)
c_1, c_2 = dp_crossover(population[0], population[1])

# print(population)
print(c_1, c_2)</pre>
</body>
</html>
