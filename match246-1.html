<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/17/22101862_Trisheeta_CSE422_17_Assignment02_Fall2024_-_TRISHEETA_JAHAN_AZAD.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/17/22201162_nuzhat_naushin_cse422_17_assignment02_fall2024_-_NUZHAT_NAUSHIN.py<p></p><pre>
# -*- coding: utf-8 -*-
"""22201162_Nuzhat Naushin_CSE422_17_Assignment02_Fall2024.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1BPynoAeizEyBk_VrwYN9kihybLr3KWZE

Part 1
"""

import random

def init_pop(pop_size,N,T):
  pop=[]
  for _ in range(pop_size):
    chromo= []
    for _ in range(T):
      seg=[0]*N
      seg[random.randint(0,N-1)]=1
      chromo +=seg
    pop.append(chromo)
  return pop

def calc_fit(chromo,N,T):
  overlap=0
  consis=0
  for t in range(T):
    seg=chromo[t*N:(t+1)*N]
    overlap+= max(0,sum(seg)-1)
  counts=[0]*N
  for t in range(T):
    seg=chromo[t*N:(t+1)*N]
    for i,c in enumerate(seg): counts[i]+=c
  for count in counts: consis+=abs(count-1)
  return -(overlap+consis)

def select(pop,fit):
<a name="0"></a><font color="#FF0000"><a href="match246-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_8.gif"/></a>

  probs=[f/sum(fit) for f in fit]
  p1=pop[random.choices(range(len(pop)),probs)[0]]
  p2=pop[random.choices(range(len(pop)),probs)[0]]
  return p1,p2

def crossover(p1,p2):
  pt=random.randint(1,len(p1)-1)
</font>  return p1[:pt]+p2[pt:],p2[:pt]+p1[pt:]

def mutate(chromo,rate):
  for i in range(len(chromo)):
    if random.random()&lt;rate: chromo[i]=1-chromo[i]
  return chromo

def genetic_algo(N,T,codes,pop_size=100,max_gen=100,mut_rate=0.01):
  pop=init_pop(pop_size,N,T)
  best_fit= float('-inf')
  best_sol= None
  for gen in range(max_gen):
    fit=[calc_fit(chromo,N,T) for chromo in pop]
    new_pop= []
    for _ in range(pop_size//2):
      p1,p2=select(pop,fit)
      c1,c2=crossover(p1,p2)
      new_pop += mutate(c1,mut_rate),mutate(c2,mut_rate)
    pop=new_pop
    gen_best=max(fit)
    if gen_best&gt; best_fit:
      best_fit= gen_best
      best_sol= pop[fit.index(gen_best)]
  return best_sol, best_fit

<a name="1"></a><font color="#00FF00"><a href="match246-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

N,T=map(int,input("N (courses),T (timeslots): ").split())
codes=[input(f"Course {i+1}: ") for i in range(N)]
sol,fit= genetic_algo(N,T,codes)
print("Optimal:",''.join(map(str,sol)))
print("Fitness:",fit)
</font>
"""Part 2"""

import random

def two_pt_crossover(p1,p2):
    pt1= random.randint(1,len(p1)-2)
    pt2=random.randint(pt1+1,len(p1)-1)
    c1= p1[:pt1]+p2[pt1:pt2]+p1[pt2:]
    c2= p2[:pt1]+p1[pt1:pt2]+p2[pt2:]
    return c1,c2,pt1,pt2

<a name="2"></a><font color="#0000FF"><a href="match246-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

pop=[[0,0,0,1,1,1,0,0,0],[1,1,1,0,0,0,1,1,1]]
p1=random.choice(pop)
p2=random.choice([p for p in pop if p!= p1])
</font>
c1,c2,pt1,pt2= two_pt_crossover(p1,p2)

print(f"P1:{''.join(map(str,p1))}")
print(f"P2:{''.join(map(str,p2))}")
print(f"1st point: Between index {pt1-1} &amp; {pt1}")
print(f"2nd point: Between index {pt2-1} &amp; {pt2}")
print(f"C1:{''.join(map(str,c1))}")
print(f"C2:{''.join(map(str,c2))}")</pre>
</body>
</html>
