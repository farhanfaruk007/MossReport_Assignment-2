<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/9/21201003_rahageer_saadman_islam_21201003_lab2_-_Rahageer_Saadman_Islam.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/9/21201390_shawon_das_21201390_lab_2_-_SHAWON_DAS.py<p></p><pre>
# -*- coding: utf-8 -*-
"""Shawon Das_21201390_lab-2

Automatically generated by Colab.

Original file is located at
<a name="1"></a><font color="#00FF00"><a href="match166-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_9.gif"/></a>

    https://colab.research.google.com/drive/1tRqHx42xYKAgnT_AIOhmjXWh9ezSRKDe
"""

#Part-01
import random

def calc_fit(chromosome, course_num, slot_num):
  overlap_penalty = 0
  consistency_penalty = 0
  course_count = [0] * course_num

  for i in range(slot_num):
    slot = chromosome[i * course_num:(i + 1) * course_num]
    scheduled_course = sum(slot)
</font>
    if scheduled_course &gt; 1:
<a name="2"></a><font color="#0000FF"><a href="match166-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_7.gif"/></a>

      overlap_penalty += (scheduled_course - 1)

    for course_index, scheduled in enumerate(slot):
      if scheduled == 1:
        course_count[course_index] += 1

  for j in course_count:
    consistency_penalty += abs(j - 1)

  total_penalty = overlap_penalty + consistency_penalty
</font>  return total_penalty

def generate_population(pop_size, course_num, slot_num):
<a name="0"></a><font color="#FF0000"><a href="match166-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_16.gif"/></a>

  population = []
  for k in range(pop_size):
    chromosome = [random.randint(0,1) for k in range(course_num * slot_num)]
    for slot_index in range(slot_num):
      if sum(chromosome[slot_index * course_num:(slot_index + 1) * course_num]) == 0:
        chromosome[slot_index * course_num + random.randint(0, course_num -1)] = 1
    population.append(chromosome)
  return population

def single_point_crossover(p1, p2):
  random_point = random.randint(1, len(p1) -2)
  c1 = p1[0:random_point] + p2[random_point:]
</font>  c2 = p2[0:random_point] + p1[random_point:]

  return c1, c2

def mutate(chromosome, mutation_rate = 0.01):
  for i in range(len(chromosome)):
    if random.random() &lt; mutation_rate:
      chromosome[i] = 1 - chromosome[i]
  return chromosome

<a name="3"></a><font color="#00FFFF"><a href="match166-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

def genetic_algo(course_num, slot_num, pop_size=10, max_generation=100):
  population = generate_population(pop_size, course_num, slot_num)
  for m in range(max_generation):
    fit_score = [calc_fit(chromosome, course_num, slot_num) for chromosome in population]
</font>    best_fit = max(fit_score)

    if best_fit == 0:
      break

    p = random.sample(population, 2)

    offspring = []
    c1, c2 = single_point_crossover(p[0], p[1])
    mutate(c1)
    mutate(c2)
    offspring.extend([c1, c2])

    population = offspring


  fit_score = [calc_fit(chrom, course_num, slot_num) for chrom in population]
  best_chromosome = population[fit_score.index(max(fit_score))]
  return best_chromosome, max(fit_score)

def main():
  no_of_courses = int(input("Enter Number of Courses: "))
  no_of_slots = int(input("Enter Number of Slots: "))

  best_schedule, fitness = genetic_algo(no_of_courses, no_of_slots)
  print("Best Schedule: ", best_schedule)
  print("Fitness: ", fitness)

if __name__ == "__main__":
  main()

#Part-2
def two_point_crossover(p1, p2):
    half = (len(p1) - 1) // 2
    random_point_1 = random.randint(1, half)
    random_point_2 = random.randint(half + 1, len(p1) - 2)

    c1 = (p2[0:random_point_1] + p1[random_point_1:random_point_2] + p2[random_point_2:])
    c2 = (p1[0:random_point_1] + p2[random_point_1:random_point_2] + p1[random_point_2:])

    print(f"After Two Point Crossover where first point is at index-{random_point_1} and second point is at index-{random_point_2}")
    return c1, c2</pre>
</body>
</html>
