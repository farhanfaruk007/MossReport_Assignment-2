<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/3/22101623_arif_bin_islam_cse422_03_lab_assignment02_fall2024_-_ARIF_BIN_ISLAM.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/13/22101486_Mustafis_Ahsan_CSE422_13_Lab_Assignment02_Fall2024_-_MUSTAFIS_AHSAN.py<p></p><pre>
# -*- coding: utf-8 -*-
"""22101486_Mustafis Ahsan_CSE422_13_Lab_Assignment02_Fall2024.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1AdpmdxDMBkHevIiGnBHJmg-7W0nQEtjA

Initial population members (10 to 30)

Total number of generations to iterate (10 to 30).

Say, you chose 20 as your initial population count, and 30 as your total generations to cover.
Then each iteration of the next generations should contain 20 new children replaced by the 20 older ones.  
So 20/2 = 10 pairs of random parents should be selected
And this process should be continued in a loop 30 times (at max)
"""

from google.colab import drive
drive.mount('/content/drive/')

#Input file is in drive, named "Input_File_GA"

input_file=open("/content/drive/MyDrive/Input_File_GA.txt",'r')
inputL = input_file.readline()

N,T = inputL.split()
N = int(N)
T = int(T)
courses = []

for i in range(N):
    course_name = input_file.readline().strip()
    courses.append(course_name)

print(N,T)
print(courses)

import random
<a name="0"></a><font color="#FF0000"><a href="match30-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_24.gif"/></a>

chromosome_len = N * T
popu = []

for i in range(20):
    chromo = []
    for i in range(chromosome_len):
        segment_has_1 = 0
        chromo.append(str(random.randint(0,1)))
        if(chromo[i]=="1"):
            segment_has_1 += 1

        if(i % N == 0):
            if segment_has_1 == 0:
                chromo[i] = '1'
            segment_has_1 = 0
    popu.append(''.join(chromo))

# print(popu)

def fitness(popu):
    segment_size = T
    fitness_score = []
    for el in popu:
        overall_fitness = 0
        segment_courses=[0]*segment_size
        for i in range(len(el)//segment_size):
            starting_idx = i*segment_size

            c = 0
            for j in range(starting_idx,starting_idx+3):
                if el[j] == '1':
                    segment_courses[j%segment_size] +=1
                    c+=1
            overall_fitness += c-1
        for el in segment_courses:
            overall_fitness += abs(el-1)

        fitness_score.append(overall_fitness*-1)
    return fitness_score

# print(fitness(popu))

def random_selection(popu,fit):
    total_fitness = sum(fit)
    probability = [f/total_fitness for f in fit]

    p1 = random.choices(popu, probability,k=2)[0]
</font>    p2 = random.choices(popu, probability,k=2)[1]


    return p1, p2

<a name="1"></a><font color="#00FF00"><a href="match30-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_15.gif"/></a>

print(random_selection(popu,fitness(popu)))

def single_crossover(x,y):
    crossover_p = random.randint(0,len(x)-1)
    x_1 = x[0:crossover_p]
    x_2 = x[crossover_p:]
    y_1 = y[0:crossover_p]
    y_2 = y[crossover_p:]

    return x_1 + y_2, y_1 + x_2

def mutation(child):
    m_p = random.randint(1,len(child)-1)
    gene = random.randint(0,1)

    first_half = child[0:m_p-1]
    second_half = ''

    if(m_p != len(child)):
        second_half = child[m_p:]
    return first_half+str(gene)+second_half

def GeneticAlgo(population):
    popu_fit_score = fitness(population)
    new_popu = []
    for i in range(0,30):
</font><a name="3"></a><font color="#00FFFF"><a href="match30-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_10.gif"/></a>

        x,y = random_selection(population, popu_fit_score)
        new_x, new_y = single_crossover(x,y)

        mutated_new_x = mutation(new_x)
        mutated_new_y = mutation(new_y)
        new_popu.append(mutated_new_x)
        new_popu.append(mutated_new_y)

    # print(new_population)
    new_popul_fit_score = fitness(new_popu)
    max_fitness = -9999999
    max_idx = None
    for i in range(len(new_popul_fit_score)):
        if(new_popul_fit_score[i]&gt;=max_fitness):
            max_fitness = new_popul_fit_score[i]
            max_idx = i
    print(new_popu[max_idx])
    print(max_fitness)
    # print(new_population_fitness_score)


GeneticAlgo(popu)

#TASK02:
def double_crossover(x,y):
    x = list(x)
    y = list(y)
</font><a name="4"></a><font color="#FF00FF"><a href="match30-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

    p1 = random.randint(0,len(x)-1)
    p2 = random.randint(0,len(x)-1)
    min_idx = min(p1,p2)
    max_idx = max(p1,p2)

    print("Crossover at:",min_idx,max_idx)
</font>
<a name="2"></a><font color="#0000FF"><a href="match30-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_10.gif"/></a>

    x_1 = x[0:min_idx]
    x_2 = x[min_idx:max_idx+1]
    x_3 = ''

    if(max_idx != len(x)-1):
        x_3 = x[max_idx+1:]
    y_1 = y[0:min_idx]
    y_2 = y[min_idx:max_idx+1]
    y_3 = ''

    if(max_idx != len(x)-1):
        y_3 = y[max_idx+1:]

    print("Splited from x and y:",''.join(x_2),''.join(y_2))

    new_x = list(x_1) + list(y_2) + list(x_3)
</font>    new_y = list(y_1) + list(x_2) + list(y_3)

    print("".join(new_x),''.join(new_y))

x , y = random_selection(popu,fitness(popu))
print("Offsprings: ",x , y)
double_crossover(x,y)</pre>
</body>
</html>
