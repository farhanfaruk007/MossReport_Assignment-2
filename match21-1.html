<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/9/21341002_shafayetnoorsifat_21341002_-_Shafayet_Noor_Sifat.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/10/21301504_cse422_10_labassignment2_-_Ahanaf_Mokammel_OMI.py<p></p><pre>
# -*- coding: utf-8 -*-
"""21301504_CSE422_10_LabAssignment2.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1QQirr4oL4DbNWLSTk0RsoBN2RtQBv6pG
"""

#Task 2

import random

<a name="1"></a><font color="#00FF00"><a href="match21-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_11.gif"/></a>

def cross(parent1, parent2):
    if len(parent1) != len(parent2):
        raise ValueError("parent lengths must be equal")

    assert len(parent1) == len(parent2)
    length = len(parent1)

    length = len(parent1)

    p1 = random.randint(1,length - 2)
    p2 = random.randint(p1 + 1,length - 1)

    print("CrossPoints:", p1, "and", p2)


    child1 = parent1[:p1] + parent2[p1:p2] + parent1[p2:]
    child2 = parent2[:p1] + parent1[p1:p2] + parent2[p2:]
</font>
    return child1, child2

parnt1 ='000111000' #input("write you parents in digit: ") '000111000'
parnt2 = '111000111' #input("write you parents in digit: ") '111000111'

# print("Parent 1:", parnt1)
# print("Parent 2:", parnt2)

chld1, chld2 = cross(parnt1, parnt2)
print("Output---&gt;:\nC1:", chld1, "\nC2:", chld2)

#Task1

import random

<a name="0"></a><font color="#FF0000"><a href="match21-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_75.gif"/></a>

f = open('/content/Input..txt', 'r')
lines = f.readlines()
#print(lines)

first_line = lines[0].strip().split()
N = int(first_line[0])
T = int(first_line[1])

courses = []

for line in lines[1:]:
    courses.append(line.strip())
#print(courses)

population_size = 10
crossoverRate = 0.7
mutationRate = 0.01
max_generations = 100

def generate_chromosome():
    chromosome = []
    for i in range(N * T):
        gene = random.choice('01')
        chromosome.append(gene)
    return ''.join(chromosome)

def initialize_population():
    population = []
    for i in range(population_size):
        chromosome = generate_chromosome()
        population.append(chromosome)
    return population

def fitness_Calc(chromosome):
    penalty_overlap = 0
    penalty_consistency = 0
    timeslots = []

    for i in range(T):
        timeslot = chromosome[i * N:(i + 1) * N]
        timeslots.append(timeslot)

    course_counts = [0] * N

    for timeslot in timeslots:
        #print(timeslot)
        course_count = 0
        for bit in timeslot:
            course_count += int(bit)

        if course_count &gt; 1:
            penalty_overlap += course_count - 1

        for i in range(N):
            if timeslot[i] == '1':
                course_counts[i] += 1
                #print(course_counts)
    for count in course_counts:
        #print(count)
        if count != 1:
            penalty_consistency += abs(count - 1)

    total_penalty = penalty_overlap + penalty_consistency
    return -total_penalty


def selectParents(population, fitnesses):
    total_fitness = sum(fitnesses)
    selection_probs = []
    for f in fitnesses:
        selection_prob = f / total_fitness
        selection_probs.append(selection_prob)
    parents = random.choices(population, weights=selection_probs, k=2)
    return parents

def mutate(chromosome):
    chromosome = list(chromosome)
    #print(chromosome)

    for i in range(len(chromosome)):
        if random.random() &lt; mutationRate:
            if chromosome[i] == '0':
                chromosome[i] = '1'
            else:
                chromosome[i] = '0'
    return ''.join(chromosome)


def crossover(parent1, parent2):
    point = random.randint(1, N * T - 1)
    child1 = parent1[:point] + parent2[point:]
    child2 = parent2[:point] + parent1[point:]
    return child1, child2






def geneticAlgo():
    population = initialize_population()
    bestChoromosome = None
    bestFit = float('-inf')

    for generation in range(max_generations):
        fitnesses = []
        for chromosome in population:
            fitness = fitness_Calc(chromosome)
            fitnesses.append(fitness)

        if max(fitnesses) &gt; bestFit:
            bestFit = max(fitnesses)
            bestChoromosome = population[fitnesses.index(max(fitnesses))]

        new_population = []
        while len(new_population) &lt; population_size:
            parent1, parent2 = selectParents(population, fitnesses)

            if random.random() &lt; crossoverRate:
                child1, child2 = crossover(parent1, parent2)
            else:
                child1 = parent1
                child2 = parent2

            child1 = mutate(child1)
            child2 = mutate(child2)

            new_population.extend([child1, child2])

        population = new_population[:population_size]

    return bestChoromosome, bestFit



bestChoromosome, bestFit = geneticAlgo()
print("Best Chromosome :", bestChoromosome)
print("Best Fitness :", bestFit)
</font>
</pre>
</body>
</html>
