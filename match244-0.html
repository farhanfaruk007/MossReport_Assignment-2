<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/8/21201475_santonu_roy_cse422_lab2_-_SANTONU_ROY.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/8/21201475_santonu_roy_cse422_lab2_-_SANTONU_ROY.py<p></p><pre>
# -*- coding: utf-8 -*-
"""21201475_Santonu Roy_CSE422_LAB2.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1Zx78u7RsEwfpu54cUEa-f1XgmQbyZvPK

***NAME*** = Santonu Roy

***ID*** = 21201475

***SECTION*** = 08
"""

import random

inputFile = open("/content/sample_data/input", "r")
inputLines = inputFile.readlines()

n_list = inputLines[0].strip().split()
N, T = int(n_list[0]), int(n_list[1])

courses =[]
for i in range(1, len(inputLines)):
    courses.append(inputLines[i].strip())

"""PART **1**"""

<a name="0"></a><font color="#FF0000"><a href="match244-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_15.gif"/></a>

def fitness_function(C, N, T):
    penalty_overlap = 0
    penalty_consistancy = 0
    for i in range(0, len(C), N):
        segment = C[i*N: (i+1)*N]
        sum = 0
        for j in segment:
            sum+=int(j)
        if sum&gt;1:
            penalty_overlap += (sum-1)

    length = N*T
    list_of_course = [0]*N
    for k in range(0, length):
        if C[k] == '1':
            list_of_course[k % N]+=1
    for j in range(0, len(list_of_course)):
        if list_of_course[j]!=1:
            penalty_consistancy+= abs(list_of_course[j])
</font>
    fitness = -(penalty_overlap+penalty_consistancy)
    return fitness

def Population(number_of_population, N, T):
    population_list = []
    for i in range(0, number_of_population):
        C = [0]*(N*T)
        chromosome_string = ""
        slots = list(range(T))
        random.shuffle(slots)
        for j in range(0, T):
            slot_generation = random.randint(0, N-1)
            C[j*N+slot_generation] = 1
        for j in range(0, N):
            slot_generation = random.randint(0, T-1)
            C[slot_generation*N+j] = 1
        for k in C:
            chromosome_string += str(k)
        population_list.append(chromosome_string)
    return population_list

def Crossover(parent1, parent2):
    crossover_point = random.randint(1, len(parent2) - 1)
    child1 = parent1[0:crossover_point] + parent2[crossover_point:]
    child2 = parent2[0:crossover_point] + parent1[crossover_point:]
    return child1, child2

def Mutation(C, rate):
    chromosome_list = list(C)
    for i in range(0, len(chromosome_list)):
        random_gen = random.random()
        if random_gen &lt; rate:
            chromosome_list[i] = str(1 - int(chromosome_list[i]))

    for j in range(0, T):
        seg_slot = chromosome_list[j*N : (j+1)*N]
        if seg_slot.count('1') == 0:
            random_course = random.randint(0, N-1)
            chromosome_list[j*N+random_course] = '1'
    mutatedChromosome = ""
    for j in chromosome_list:
        mutatedChromosome+=j
    return mutatedChromosome

def GeneticAlgorithm(N, T, popu_size, rate):
    p = Population(popu_size, N, T)
    fittest_chromo = None
    highest_fitness_value = -1e7

    for i in range(0, 25):
        new_Population = []
        for j in range(0, 10):
            parent1, parent2 = random.sample(p, 2)
            child1, child2 = Crossover(parent1, parent2)
            child1 = Mutation(child1, rate)
            child2 = Mutation(child2, rate)
            new_Population.append(child1)
            new_Population.append(child2)
        popu_dict = {}
        for k in new_Population:
            popu_dict[k] = fitness_function(k, N, T)
        new_Population = []
        sort_key = sorted(popu_dict, key = popu_dict.get, reverse = True)
        for k in range(0, len(sort_key)):
            new_Population.append(sort_key[k])
        p = new_Population[:popu_size]
        for l in p:
            fitness_value = fitness_function(l, N, T)
            if fitness_value &gt; highest_fitness_value:
                highest_fitness_value = fitness_value
                fittest_chromo = l
    return fittest_chromo, highest_fitness_value

fittest_chromo, highest_fitness_value = GeneticAlgorithm(N, T, 10, 0.01)

print("Fittest chromosome:",fittest_chromo)
print("Fitness value:",highest_fitness_value)

"""PART **2**"""

def TwoPointCrossover (parent1, parent2):
    crossover_point1 = random.randint(1, len(parent1) - 2)
    crossover_point2 = random.randint(crossover_point1 + 1, len(parent1) - 1)
    child1 = parent1[:crossover_point1] + parent2[crossover_point1:crossover_point2] + parent1[crossover_point2:]
    child2 = parent2[:crossover_point1] + parent1[crossover_point1:crossover_point2] + parent2[crossover_point2:]
    return child1, child2
child1, child2 = TwoPointCrossover("000111000", "111000111")

print("Child 1:", child1)
print("Child 2:", child2)</pre>
</body>
</html>
