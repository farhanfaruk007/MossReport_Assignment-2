<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/1/22101132_mahmud_mostofa_al_maruf_cse422_01_assignment02_fall2024_-_MAHMUD_MOSTOFA_AL_MARUF.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/1/22101132_mahmud_mostofa_al_maruf_cse422_01_assignment02_fall2024_-_MAHMUD_MOSTOFA_AL_MARUF.py<p></p><pre>
# -*- coding: utf-8 -*-
"""22101132_Mahmud Mostofa Al Maruf_CSE422_01_Assignment02_Fall2024.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1oT0WTjk4wB5typ3iOX3Hs3Cou9xd9tm-
"""

#Part1

import random

def population_initialization(population_size, chromosome_length):
    """Generates an initial population of random chromosomes."""
    population = []
<a name="2"></a><font color="#0000FF"><a href="match192-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

    for i in range(population_size):
        chromosome = [random.randint(0, 1) for _ in range(chromosome_length)]
        population.append(chromosome)
    return population


def fitness_function(chromosome, N, T, courses):
</font>    """Calculates the fitness of a chromosome."""
    overlap = 0
    consistency = 0

    timeslots_courses = [[] for _ in range(T)]

    for t in range(T):
        for i in range(N):
            if chromosome[t * N + i] == 1:
                timeslots_courses[t].append(courses[i])

<a name="0"></a><font color="#FF0000"><a href="match192-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_11.gif"/></a>

    for k in timeslots_courses:
        if len(k) &gt; 1:
            overlap += len(k) - 1

    courses_count = {course: 0 for course in courses}
    for t in range(T):
        for course in timeslots_courses[t]:
            courses_count[course] += 1

    for course in courses:
        if courses_count[course] != 1:
            consistency += abs(courses_count[course] - 1)

    total_penalty = overlap + consistency
    fitness = -total_penalty
</font>
    return fitness


def crossover(parent1, parent2):
    """Performs two-point crossover between two parent chromosomes."""
    point1 = random.randint(0, len(parent1) - 2)
    point2 = random.randint(point1 + 1, len(parent1) - 1)

    offspring1 = parent1[:point1] + parent2[point1:point2] + parent1[point2:]
<a name="1"></a><font color="#00FF00"><a href="match192-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

    offspring2 = parent2[:point1] + parent1[point1:point2] + parent2[point2:]

    return offspring1, offspring2


def mutation(chromosome):
    """Randomly mutate a chromosome by flipping a bit."""
</font>    chromosome_list = list(chromosome)

    mutation_point = random.randint(0, len(chromosome_list) - 1)
    chromosome_list[mutation_point] = '1' if chromosome_list[mutation_point] == '0' else '0'

    mutated_chromosome = ''.join(chromosome_list)
    return mutated_chromosome


def newGen(genCount, tranC):
    """Generates a new population with random chromosomes."""
    gen = []
    for i in range(genCount):
        ans = ''.join(random.choice('01') for _ in range(tranC))
        gen.append(ans)
    return gen


def genetic_algorithm(N, T, courses, genCount=10, highRep=100):
    """Runs the genetic algorithm to find the best solution."""
    chromosome_length = N * T
    gen = newGen(genCount, chromosome_length)

    best_chromosome = None
    best_fitness = float('inf')

    for generation in range(highRep):
        fit = []
        for ans in gen:
            fitness = fitness_function(ans, N, T, courses)
            fit.append((fitness, ans))

        fit.sort()

        if fit[0][0] == 0:
            return fit[0][1], fit[0][0]

        if fit[0][0] &lt; best_fitness:
            best_fitness = fit[0][0]
            best_chromosome = fit[0][1]

        new = [fit[0][1]]
        while len(new) &lt; genCount:
<a name="3"></a><font color="#00FFFF"><a href="match192-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

            parent1 = random.choice(gen)
            parent2 = random.choice(gen)

            kid1, kid2 = crossover(parent1, parent2)
            kid1 = mutation(kid1)
            kid2 = mutation(kid2)
            new.extend([kid1, kid2])
</font>
        gen = new[:genCount]

    return best_chromosome, best_fitness


N = 3
T = 3
courses = ['CSE110', 'MAT110', 'PHY112']

best_schedule, fitness_value = genetic_algorithm(N, T, courses)

print(f"Best schedule found: {best_schedule}")
print(f"Fitness value: {fitness_value}")

#PART2

import random

def two_point_crossover(parent1, parent2):
    point1 = random.randint(0, len(parent1) - 2)
    point2 = random.randint(point1 + 1, len(parent1) - 1)

    offspring1 = parent1[:point1] + parent2[point1:point2] + parent1[point2:]
    offspring2 = parent2[:point1] + parent1[point1:point2] + parent2[point2:]

    return offspring1, offspring2

parent1 = '000111000'
parent2 = '111000111'

offspring1, offspring2 = two_point_crossover(parent1, parent2)

print(f'Parent 1: {parent1}')
print(f'Parent 2: {parent2}')
print(f'Offspring 1: {offspring1}')
print(f'Offspring 2: {offspring2}')</pre>
</body>
</html>
