<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/4/24141100_anwesha_roy_cse422_04_assignment02_fall2024_-_ANWESHA_ROY.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab2_Submission/6/21301542_mahidul_islam_cse422_03_ass02_fall2024_-_Mahidul_Islam_Mahi.py<p></p><pre>
# -*- coding: utf-8 -*-
"""21301542_Mahidul_Islam_CSE422_03_Ass02_Fall2024.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1pNqFBxL8VCezGBFkys2SZ-ATdvEvsrBS
"""

import random

# Input
n_val = int(input("Enter the number of courses (N): "))
t_val = int(input("Enter the number of timeslots (T): "))
courses = []
print("Enter the course codes:")
for _ in range(n_val):
    courses.append(input().strip())

# Generate Initial Population
def generate_population(population_size, N, T):
    population = []
    for i in range(population_size):
        chromosome = []
        for j in range(T):
            timeslot = [0] * N
            index_val = random.randint(0, N - 1)
            timeslot[index_val] = 1
            chromosome.extend(timeslot)
        population.append(chromosome)
    return population

# Fitness Function
def fitness(chromosome, N, T):
    penalty_overlap = 0
    penalty_consistency = 0
    course_count = [0] * N
    for t in range(T):
        timeslot = chromosome[t * N:(t + 1) * N]
        courses_in_slot = 0
        for c in timeslot:
            if c == 1:
                courses_in_slot += 1
        if courses_in_slot &gt; 1:
            penalty_overlap += (courses_in_slot - 1)
    for i in range(N):
        for t in range(T):
            if chromosome[t * N + i] == 1:
                course_count[i] += 1
    for count in course_count:
<a name="2"></a><font color="#0000FF"><a href="match182-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

        if count != 1:
            penalty_consistency += abs(count - 1)
    fitness = -(penalty_overlap + penalty_consistency)
    return fitness

# Parent Selection
def select_parents(population, fitnesses):
    min_fitness = min(fitnesses)
</font>    adjusted_fitnesses = [fit - min_fitness + 1 for fit in fitnesses]
    return random.choices(population, weights=adjusted_fitnesses, k=2)

# Single Point Crossover
def crossover(parent1, parent2, N, T):
    crossover_point = random.randint(1, N * T - 1)
    offspring1 = parent1[:crossover_point] + parent2[crossover_point:]
    offspring2 = parent2[:crossover_point] + parent1[crossover_point:]
    return offspring1, offspring2

# Two-Point Crossover
def two_point_crossover(parent1, parent2, N, T):
    crossover_point1 = random.randint(1, N * T - 2)
    crossover_point2 = random.randint(crossover_point1 + 1, N * T - 1)
    offspring1 = parent1[:crossover_point1] + parent2[crossover_point1:crossover_point2] + parent1[crossover_point2:]
    offspring2 = parent2[:crossover_point1] + parent1[crossover_point1:crossover_point2] + parent2[crossover_point2:]
    return offspring1, offspring2

# Mutation
def mutate(chromosome, rate):
    for i in range(len(chromosome)):
        if random.random() &lt; rate:
            chromosome[i] = 1 - chromosome[i]
    return chromosome

# Genetic Algorithm
def genetic_algorithm(N, T, courses, pop_size=5, iteration=5, rate=0.5):
    population = generate_population(pop_size, N, T)
<a name="3"></a><font color="#00FFFF"><a href="match182-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

    best_chromosome = None
    best_fitness = float('-inf')
    for generation in range(iteration):
        fitnesses = [fitness(chrom, N, T) for chrom in population]
        for i in range(len(population)):
</font><a name="1"></a><font color="#00FF00"><a href="match182-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_7.gif"/></a>

            if fitnesses[i] &gt; best_fitness:
                best_fitness = fitnesses[i]
                best_chromosome = population[i]
        new_population = []
        while len(new_population) &lt; pop_size:
            parent1, parent2 = select_parents(population, fitnesses)
            offspring1, offspring2 = crossover(parent1, parent2, N, T)
            new_population.append(mutate(offspring1, rate))
</font>            new_population.append(mutate(offspring2, rate))
        population = new_population[:pop_size]
    return best_chromosome, best_fitness

# Run Genetic Algorithm
best_chromosome, best_fitness = genetic_algorithm(n_val, t_val, courses)
chromosome_str = ''.join(str(bit) for bit in best_chromosome)
print("Best Chromosome (schedule):", chromosome_str)
print("Best Fitness Value:", best_fitness)

# Part 2: Crossover and Mutation Testing
<a name="0"></a><font color="#FF0000"><a href="match182-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_11.gif"/></a>

population_size = 5
population = generate_population(population_size, n_val, t_val)
fitnesses = [fitness(chrom, n_val, t_val) for chrom in population]
parent1, parent2 = select_parents(population, fitnesses)
offspring1, offspring2 = two_point_crossover(parent1, parent2, n_val, t_val)

# Display Results
labels = ["Parent 1", "Parent 2", "Offspring 1", "Offspring 2"]
individuals = [parent1, parent2, offspring1, offspring2]
for i in range(len(labels)):
    individual_str = ''.join(str(gene) for gene in individuals[i])
    print(f"{labels[i]}: {individual_str}")</font></pre>
</body>
</html>
